ATCRequest As screen:
    Height: |+
        =Max(App.Height, App.MinScreenHeight)
        
    LoadingSpinnerColor: =RGBA(100, 118, 132, 1)
    OnVisible: |-
        =UpdateContext({lvDiscardData: false});
        If(
            ATCRequest.Size < 3,
            Set(
                varShowMenu,
                true
            );
            Set(
                varShowMenu,
                false
            ),
            Set(
                varShowMenu,
                true
            )
        );
        If(
            gvNewATCRequest = false,
            ClearCollect(
                collBookDetails,
                Filter(
                    'Book Requests',
                    'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                )
            ),
            ClearCollect(
                collBookDetails,
                {BookDetailID: Last(collBookDetails).BookDetailID + 1}
            )
        );
        If(
            gvNewATCRequest = false,
            ClearCollect(
                collResponse,
                Filter(
                    'Resident Responses',
                    'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request'
                )
            ),
            Clear(collResponse)
        );
        //Packet  
        If(
            gvNewATCRequest = false,
            ClearCollect(
                collSelectedPackets,
                Filter(
                    'Packet Request Details',
                    'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                )
            ),
            Clear(collSelectedPackets)
        );
        //call out
        If(
            gvNewATCRequest = false,
            ClearCollect(
                collSelectedCallOutServices,
                Filter(
                    'Call Out/Visit Services',
                    'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request'
                )
            ),
            Clear(collSelectedCallOutServices)
        );
        //Visit Request
        If(
            gvNewATCRequest = false,
            ClearCollect(
                collSelectedVisitServices,
                Filter(
                    'Call Out/Visit Services',
                    'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request'
                )
            ),
            Clear(collSelectedVisitServices)
        );
        If(
            gvNewATCRequest = true,
            UpdateContext({lvMandatoryField: false});
            UpdateContext({lvMandatoryAddNewPerson: false});
            UpdateContext({lvMandatoryBookDetails: false});
            UpdateContext({lvMandatoryIndigentSuppy: false});
            UpdateContext({lvMandatoryCallOutRequest: false});
            UpdateContext({lvMandatoryVistrequest: false});
            UpdateContext({lvMandatoryLegalMail: false});
            UpdateContext({lvMandatoryEFileRequest: false});
            UpdateContext({lvMandatoryOtherTab: false});
            //UpdateContext({lvCountCallOutServices: 0});
          Set(lvCountCallOutServices, 0);
            Set(lvCountVisitServices, 0);
            Set(
                lvCountPackets,
                0
            );
            Set(
                lvFlag1,
                false
            );
            Set(
                lvFlag2,
                false
            );
            Set(
                lvFlag3,
                false
            );
            Set(
                lvFlag4,
                false
            );
            Set(
                lvFlag5,
                false
            );
            Set(
                lvFlag6,
                false
            );
            Set(
                lvFlag7,
                false
            ),
           Set(
                    lvCountCallOutServices, CountRows(
                        Filter(
                            galServiesCallOutATCRequest.AllItems,
                            cbxServiesCallOutATCRequest.Value = true
                        )
                    )
                
            );
            Set(
                    lvCountVisitServices, CountRows(
                        Filter(
                            galVisitServiceNamesATCRequest.AllItems,
                            cbxVisitServiceNamesATCRequest.Value = true
                        )
                    )
                
            );
            Set(           lvCountPackets, CountRows(
                        Filter(
                            galPacketRequestATCRequest.AllItems,
                            cbxPacketsATCRequest.Value = true
                        )
                    )
                
            );
            
        );
        UpdateContext({lvStatusResponded: false});
        UpdateContext({lvCloseRequest: false});
        
        If(gvNewATCRequest=false, 
        
        //patch packets
        If(lvCountPackets >= 1, Set(lvFlag8, true), Set(lvFlag8, false));
        
        
        //Patch Book Request
        If(  galBookDetailsATCRequest.AllItemsCount=0, Set(
                lvFlag1,
                false
            )
            ,(CountRows(
                Filter(
                    galBookDetailsATCRequest.AllItems As obj,
                    If(
                        LookUp(
                            collBookInventory,
                            'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                        ).'Available Copies' = 1,
                        IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                        IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                    )
                )
            ) = 0),
            Set(
                lvFlag1,
                true
            );
            
        );
        
        //Patch Indigent Supply
        If(
             If(
                rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                !IsBlank(txtDescriptionATCRequest.Text),
                If(
                    rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                    !IsEmpty(AttachmentATCRequest.Attachments)
                )
            ),
            Set(
                lvFlag2,
                true
            )
        );
        
        //Call out
        If(
             !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
            Set(
                lvFlag3,
                true
            )
        );
        
        
        //Patch Visit
        If(
             !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
            Set(
                lvFlag4,
                true
            )
        );
        
        
        //patch legal mail
        If(
             !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                cbxRegisteredAddressATCRequest.Value = false,
                !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                If(
                    cbxRegisteredAddressATCRequest.Value = true,
                    !IsBlank(txtRegisteredAddressATCRequest.Text)
                )
            ),
            Set(
                lvFlag5,
                true
            )
        );
        
        //E File
        If(
             !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                cbxCourtATCRequest.Value = false,
                !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                !IsBlank(txtCourtATCRequest.Text)
            ),
            Set(
                lvFlag6,
                true
            )
        );
        
        //other
        If(
            !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateRequestDateOtherATCRequest.SelectedDate),
            Set(
                lvFlag7,
                true
            )
        );
        
        
        );
        
        Set(gvaddress, Blank());
        Set(gvRoster,Blank());
        Set(gvCourt, Blank());
        If(gvNewATCRequest=false,
        Set(gvExistingAddress, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'=gvEditATCRequest.'ATC Request').'Address Details ID'));
        
        
        If(
            gvNewATCRequest = false,
           If(lvFlag8=true, Set(gvTabSelected, 1), If(lvFlag1=true, Set(gvTabSelected,2), If(lvFlag2=true, Set(gvTabSelected,3), If(lvFlag3=true, Set(gvTabSelected,4), If(lvFlag4=true, Set(gvTabSelected,5), If(lvFlag5=true, Set(gvTabSelected,6), If(lvFlag6=true, Set(gvTabSelected,7), If(lvFlag7=true, Set(gvTabSelected,8))))))))));
        
        
           If(gvNewATCRequest=true || lvFlag8=false,ClearCollect(
            collPacketsCount,
            AddColumns(
                Packets,
                "Count",
                1
            )
        ));

    PdfViewer1 As pdfViewer:
        Document: =//gvPDF
        Height: =700
        Visible: |-
            =//lvShowPDF
            false
        Width: =1366
        ZIndex: =1

    cntPrint As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =Container53_1.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =false
        Width: =Parent.Width
        ZIndex: =2

        Container53_1 As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =If(Print.Printing, If('htmlE-FilingPrint_1'.Visible=true, 'htmlE-FilingPrint_1'.Height+'htmlE-FilingPrint_1'.Y,If(htmlLegalMailPrint_1.Visible=true, htmlLegalMailPrint_1.Height+htmlLegalMailPrint_1.Y, If(galVisitRequestPrint_1.Visible=true, galVisitRequestPrint_1.Height+galVisitRequestPrint_1.Y, If(galCallOutRequestPrint_1.Visible=true, galCallOutRequestPrint_1.Height+galCallOutRequestPrint_1.Y, If(htmlIndigentSupplyPrint_1.Visible=true, htmlIndigentSupplyPrint_1.Height+htmlIndigentSupplyPrint_1.Y, If(htmlExtensionNotePrint_1.Visible=true, htmlExtensionNotePrint_1.Height+htmlExtensionNotePrint_1.Y, If(htmlBookNotePrint_1.Visible=true, htmlBookNotePrint_1.Height+htmlBookNotePrint_1.Y, If(galPackeRequestPrint_1.Visible=true, galPackeRequestPrint_1.Height+galPackeRequestPrint_1.Y)))))))), 700)
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =700
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingLeft: =20
            PaddingRight: =20
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Visible: =cntPrint.Visible
            Width: =Parent.Width
            ZIndex: =1

            htmlResidentDetailsPrint_1 As htmlViewer:
                AutoHeight: =true
                Font: =AppFonts.FontStyle
                Height: =500
                HtmlText: |-
                    ="<center>
                    <h2>
                    " & LookUp(
                        'Facility Mappings',
                        'Facility Name' = cbxFacilityATCRequest.Selected.'Facility Name'
                    ).'Acronym of Facility' & " â€“ ATC Response 
                    </h2></center>
                    <h4>Date:   " & dateSubmitDateATCRequest & " <br> 
                    IDOC #:  " & 'cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No' & " <br>
                    First Name: " & txtMainScreenFirstNameATCRequest & "              <br>
                    Last Name: " & txtMainScreenLastNameATCRequest & " <br>
                    Unit: " & txtMainScreenUnitNumberATCRequest & "   <br>
                    </h4>
                    <p>
                    <Table style='width:50%;background-color: rgb(209,213,216)'><tr><th>Response Message</th><th> Response Date</th></tr>" & Concat(
                        galMessageATCRequest.AllItems,
                        "<tr>
                            <td style='width:50%;background-color: rgb(255,255,255)'> " & lblResponseMessageATCRequest & "</td><td style='width:50%;background-color: rgb(255,255,255)'>" & 'lblDate&TimeMessageATCRequest' & "</td></tr>"
                    ) & " </Table>
                     </p>
                     <br> 
                    " & If(
                        lvCountPackets >= 1,
                        "<b> <h3><u>Packet Request:</u></h3> </b>  Please find attached the following self-help packet(s) that you requested. These packets contain information and instructions on how to complete the forms, please read through them carefully.<br> 
                    <h4>List of Packet Descriptions </h4> "
                    ) & "
                    "
                Size: =AppFonts.fontSize
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

            galPackeRequestPrint_1 As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: =Self.TemplateHeight*Self.AllItemsCount
                Items: |-
                    =ForAll(Filter(
                                galPacketRequestATCRequest.AllItems,
                                cbxPacketsATCRequest.Value = true
                            ), LookUp(IDOC, Requests="Packet Request" && 'Packet Name'=ThisRecord.Services))
                            
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =30
                Visible: =If(lvCountPackets>=1,true, false)
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =2

                lblPackeRequestDescriptionPrint_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =25
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: =ThisItem.Description
                    Width: =Parent.Width-lblPackeRequestServicePrint_1.Width
                    X: =lblPackeRequestServicePrint_1.Width
                    ZIndex: =2

                lblPackeRequestServicePrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =25
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: =If(IsBlank(ThisItem.Description), ThisItem.Services, ThisItem.Services &"  -")
                    Width: =270
                    ZIndex: =3

            HtmlBookRequestPrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =80
                HtmlText: |-
                    ="
                    <b><h3><u> Book Request </u></h3></b>
                    You have checked out the following legal book(s): 
                    
                    
                    
                    "
                PaddingBottom: =0
                PaddingTop: =0
                Visible: |
                    =lvFlag1=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

            galBookRequestPrint_1 As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: =Self.TemplateHeight*Self.AllItemsCount
                Items: |-
                    =collBookDetails
                    
                    
                                   
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =30
                Visible: =lvFlag1=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =4

                lblBookDetailsPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =25
                    OnSelect: =Select(Parent)
                    PaddingTop: =0
                    Size: =AppFonts.fontSize
                    Text: |-
                        = //cmbBookATCREquest.Selected.'Book Id' &" " & cmbBookATCREquest.Selected.'Book Title' & " with a due date of " & DateValue(DatePicker1_11.SelectedDate)
                          //LookUp('Book Requests', 'ATC Request Id'.'ATC Request'= gvNewRecord.'ATC Request','Book Id'.'Book Id') &" " & LookUp('Book Requests', 'ATC Request Id'.'ATC Request'= gvNewRecord.'ATC Request','Book Id'.'Book Title')
                        
                          ThisItem.'Book Id'.'Book Id'&" " & ThisItem.'Book Id'.'Book Title' & " with a due date of " & DateValue(ThisItem.'Book Due Date')
                        
                         
                    Width: =Parent.Width
                    ZIndex: =2

            htmlBookNotePrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =50
                HtmlText: |-
                    ="
                    "&LookUp(IDOC, Requests="Book Request" && Services="Details").Description &"
                    
                    
                    
                    "
                Size: =AppFonts.fontSize
                Visible: |
                    =lvFlag1=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =5

            htmlExtensionPrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =90
                HtmlText: |-
                    ="
                    <h3><u> Extension </u></h3>
                    An extension has been granted for the following book(s): 
                    
                    "
                Size: =AppFonts.fontSize
                Visible: |-
                    =/*lvFlag1=true && CountRows(Filter(
                                galBookDetailsATCRequest.AllItems As obj, IsBlank(obj.'dateCheckIn/ExtendToATCRequest'.SelectedDate)))<> 0 */
                    
                                false
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =6

            galBookExtensionPrint_1 As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: =Self.TemplateHeight*Self.AllItemsCount
                Items: =collBookDetails
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: |-
                    =/*lvFlag1=true && CountRows(Filter(
                                galBookDetailsATCRequest.AllItems As obj, IsBlank(obj.'dateCheckIn/ExtendToATCRequest'.SelectedDate)))<> 0 */
                    
                                false
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =7

                lblBookExtensionPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: = ThisItem.'Book Id'.'Book Id' &" " & ThisItem.'Book Id'.'Book Title' & " with a due date of " & ThisItem.'Book Due Date'
                    Width: =1
                    ZIndex: =2

            htmlExtensionNotePrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =90
                HtmlText: |-
                    ="
                    "& LookUp(IDOC, Requests="Book Request" && Services="Extension").Description &"
                    
                     
                    
                    "
                Size: =AppFonts.fontSize
                Visible: |-
                    =/*lvFlag1=true && CountRows(Filter(
                                galBookDetailsATCRequest.AllItems As obj, IsBlank(obj.'dateCheckIn/ExtendToATCRequest'.SelectedDate)))<> 0 */
                    
                                false
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =8

            htmlIndigentSupplyPrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =100
                HtmlText: |-
                    =""&If(lvFlag2=true, "<b>
                    <h3><u>Indigent Supplies: </u></h3> </b>"& If(rdoOptionsIsPersonIndigentATCRequest.Selected.Value="No",LookUp(IDOC,Requests="Indigent Supply").Description , " Please find attached the "& txtDescriptionATCRequest &" that you requested. ")) &""
                Size: =AppFonts.fontSize
                Visible: =lvFlag2=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =9

            htmlCallOutRequestPrint_1 As htmlViewer:
                AutoHeight: =true
                Font: =AppFonts.FontStyle
                HtmlText: |-
                    ="
                    <b>
                    <h3><u>Call Out Request: </u></h3> </b>
                    
                    
                    "& If(DateValue(Now()) > DateValue( dateServiceDateCallOutATCRequest.SelectedDate), LookUp(IDOC, Requests="Call Out Request" && Services ="Show").Description, LookUp(IDOC, Requests="Call Out Request" && Services ="No Show").Description ) &" <br>
                    Service date: "& DateValue(dateServiceDateCallOutATCRequest.SelectedDate)&" <br>
                    From Time: "& ddServiceDateFromCallOutATCRequest.Selected.Value &"  <br>
                    To Time: "&  ddServiceDateToCallOutATCRequest.Selected.Value &"
                    
                    "
                Size: =AppFonts.fontSize
                Visible: =lvFlag3=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =10

            galCallOutRequestPrint_1 As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: =Self.TemplateHeight*Self.AllItemsCount
                Items: |-
                    =ForAll(
                                Filter(
                                    galServiesCallOutATCRequest.AllItems,
                                    cbxServiesCallOutATCRequest.Value = true
                                ), LookUp(IDOC, Requests="Call Out Request" && 'Service Name'=ThisRecord.Services))
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =lvFlag3=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =11

                lblCallOutServicesPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    OnSelect: =Select(Parent)
                    Size: =13
                    Text: =ThisItem.Services
                    Width: =1
                    ZIndex: =1

                lblCallOutDescriptionPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    OnSelect: =Select(Parent)
                    Size: =13
                    Text: =ThisItem.Description
                    Width: =Parent.Width-lblCallOutServicesPrint_1.Width
                    X: =1
                    ZIndex: =2

            htmlVisitRequestPrint_1 As htmlViewer:
                AutoHeight: =true
                Font: =AppFonts.FontStyle
                HtmlText: |-
                    ="
                    <b>
                    <h3><u>Visit Request: </u></h3> </b>
                    
                    
                    "& If(DateValue(Now()) > DateValue( dateServiceDateVisitATCRequest.SelectedDate), LookUp(IDOC, Requests="Visit Request" && Services ="Show").Description, LookUp(IDOC, Requests="Visit Request" && Services ="No Show").Description ) &" <br>
                    Service date: "& DateValue(dateServiceDateVisitATCRequest.SelectedDate)&" <br>
                    From Time: "& ddServiceDateFromATCRequest.Selected.Value &"  <br>
                    To Time: "&  ddServiceDateToATCRequest.Selected.Value &"
                    
                    "
                Size: =AppFonts.fontSize
                Visible: =lvFlag4=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =12

            galVisitRequestPrint_1 As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: =Self.TemplateHeight*Self.AllItemsCount
                Items: |-
                    =ForAll(
                                Filter(
                                    galServiesCallOutATCRequest.AllItems,
                                    cbxServiesCallOutATCRequest.Value = true
                                ), LookUp(IDOC, Requests="Call Out Request" && 'Service Name'=ThisRecord.Services))
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =lvFlag4=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =13

                lblVisitServicesPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    OnSelect: =Select(Parent)
                    Size: =13
                    Text: =ThisItem.Services
                    Width: =1
                    ZIndex: =1

                lblVisitDescriptionPrint_1 As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    OnSelect: =Select(Parent)
                    Size: =13
                    Text: =ThisItem.Description
                    Width: =Parent.Width-lblVisitServicesPrint_1.Width
                    X: =1
                    ZIndex: =2

            htmlLegalMailPrint_1 As htmlViewer:
                Font: =AppFonts.FontStyle
                Height: =140
                HtmlText: |-
                    ="
                    <b>
                    <h3><u>Legal Mail: </u></h3> </b>
                    Per your Access to Courts form, you requested mailing services.<br> 
                    Item to be mailed: " &txtTypeOfMailATCRequest.Text &" "&txtCaseNumberATCRequest&" received on  "& dateReceivedOnATCRequest &" "&If(cbxRegisteredAddressATCRequest.Value=true,  txtRegisteredAddressATCRequest.Text , cmbRegisteredAddressATCRequest.Selected.'Combined Address') &" <br><br>
                    You provided self-addressed envelopes. Your mail has been sent out. 
                    "
                Size: =AppFonts.fontSize
                Visible: =lvFlag5=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =14

            "'htmlE-FilingPrint_1' As htmlViewer":
                Font: =AppFonts.FontStyle
                Height: =120
                HtmlText: |-
                    ="
                    <b>
                    <h3><u>E-File Request: </u></h3> </b>
                    Per your Access to Courts form, you requested e-filing services.<br> 
                    Item to be mailed: " &txtTypeOfFilingATCRequest.Text &" "&txtCaseNumberEFileATCRequest&" received on  "& dateFilingReceivedOnATCRequest &" "&If(cbxCourtATCRequest.Value=true,  txtCourtATCRequest.Text , cmbCourtATCRequest.Selected.'Court Name') &" <br>"
                Size: =AppFonts.fontSize
                Visible: =lvFlag6=true
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =15

    cntScreenATCRequest As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height-cmpHeaderATCRequest.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingLeft: =25
        PaddingRight: =25
        Width: |-
            =//If((gvNavBarWidth.ScreenMax = LeftNavigation_1.Width) || (gvNavBarWidth.Screen1 = LeftNavigation_1.Width) || (gvNavBarWidth.Screen2 = LeftNavigation_1.Width) ||(gvNavBarWidth.Screen3 = LeftNavigation_1.Width), Parent.Width - LeftNavigation_1.Width,Parent.Width)
            
            If(cmpLeftNavigationATCRequest.Width =gvNavBarMinWidth || ATCRequest.Size=2 ||ATCRequest.Size=1, Parent.Width, Parent.Width - cmpLeftNavigationATCRequest.Width)
        X: |-
            =//LeftNavigation_1.Width
            
            //If(gvNavBarWidth.ScreenMax = LeftNavigation_1.Width, LeftNavigation_1.Width,0)
            
            
            
            //If(gvNavBarWidth.ScreenMax = LeftNavigation_1.Width, LeftNavigation_1.Width,If(ATCRequest.Size=2 ||ATCRequest.Size=1,0))
            
            If(cmpLeftNavigationATCRequest.Width=gvNavBarMinWidth || ATCRequest.Size=2 ||ATCRequest.Size=1, 0, cmpLeftNavigationATCRequest.Width)
        Y: =cmpHeaderATCRequest.Y+cmpHeaderATCRequest.Height
        ZIndex: =3

        cntAllFieldsofATCRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
            FillPortions: =0
            Height: =cntCheckBoxesATCRequest.Height+cntCheckBoxesATCRequest.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =cntCheckBoxesATCRequest.Height+cntATCRequestATCRequest.Height+cnt1stSectionFieldsATCRequest.Height+cnt2ndSectionFieldsATCRequest.Height
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            cntATCRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =50
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =60
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =1

                cntAccessToCourtATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    Size: =AppFonts.titleFontSize
                    Text: ="Access To Court Request"
                    Width: =400
                    ZIndex: =1

            cnt1stSeperatorATCRequest As groupContainer.verticalAutoLayoutContainer:
                FillPortions: =0
                Height: =15
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =80
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =2

                rct1stSeperatorATCRequest As rectangle:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Fill: =AppColors.Grey
                    Height: =1
                    Width: =Parent.Width
                    ZIndex: =1

            cnt1stSectionFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderStyle: =BorderStyle.None
                FillPortions: =0
                Height: |-
                    =//If(ATCRequest.Size =1, 250, If(ATCRequest.Size = 2, 240,If(ATCRequest.Size = 3, 110,110)))
                    cntFacilityATCRequest.Y+cntFacilityATCRequest.Height
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =3

                "'cntMainScreenIDOC#ATCRequest' As groupContainer.verticalAutoLayoutContainer":
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(ATCRequest.Size=3, 80,100)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =1

                    "'lblcntMainScreenIDOC#ATCRequest' As label":
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =38
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="IDOC #"
                        ZIndex: =2

                    "'cntCombineTextbox&IconMainScreenIDOC#ATCRequest' As groupContainer.manualLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: |-
                            =Parent.Height-'lblcntMainScreenIDOC#ATCRequest'.Height
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =3

                        btnAddPersonATCRequest As button:
                            BorderStyle: =BorderStyle.None
                            Color: =AppColors.Blue
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(0, 0, 0, 0)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                            Font: =AppFonts.FontStyle
                            Height: =18
                            HoverColor: =AppColors.Blue
                            HoverFill: =
                            OnSelect: |
                                =UpdateContext({lvAddNewPerson:true});
                            PaddingLeft: =1
                            PaddingRight: =2
                            PressedColor: =AppColors.Blue
                            PressedFill: =
                            Size: =9
                            Text: ="Add Person"
                            Width: =72
                            X: |-
                                ='cmbMainScreenIDOC#ATCRequest'.Width-btnAddPersonATCRequest.Width
                            Y: =40
                            ZIndex: =3

                        lblPersonwasnoFoundATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =1
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: |-
                                =If(
                                    IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') && IsBlank('cmbMainScreenIDOC#ATCRequest'.SearchText),
                                    "IDOC # is required",
                                    If(
                                        !('cmbMainScreenIDOC#ATCRequest'.SearchText in 'cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No'),
                                        "Person was not found"
                                    )
                                )    
                            Visible: |
                                =If(
                                    IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') && IsBlank('cmbMainScreenIDOC#ATCRequest'.SearchText),
                                   lvMandatoryField,
                                    If(
                                        'cmbMainScreenIDOC#ATCRequest'.SearchText in 'cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No',
                                        false,
                                        true
                                    )
                                )
                            Width: =155
                            Y: |-
                                ='cmbMainScreenIDOC#ATCRequest'.Height
                            ZIndex: =4

                        "'cmbMainScreenIDOC#ATCRequest' As combobox":
                            BorderColor: =AppColors.Grey
                            BorderThickness: =1
                            ChevronBackground: =RGBA(255, 255, 255, 1)
                            ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                            ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                            ChevronFill: =AppColors.DarkGray
                            ChevronHoverBackground: =
                            ChevronHoverFill: =AppColors.DarkGray
                            DefaultSelectedItems: =If(!IsBlank(gvRoster), gvRoster,  If(gvNewATCRequest=false, LookUp(Rosters, Roster= gvEditATCRequest.'Roster Id'.Roster)))
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            DisplayFields: =["idoc_idocno"]
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.FieldHeight
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =
                            InputTextPlaceholder: |-
                                ="Select IDOC #"
                            Items: =CollRosters
                            OnChange: =
                            PaddingLeft: =12
                            PressedColor: =AppColors.DarkGray
                            PressedFill: =RGBA(255, 255, 255, 1)
                            SearchFields: =["idoc_idocno"]
                            SearchItems: |-
                                =Search(CollRosters,'cmbMainScreenIDOC#ATCRequest'.SearchText,"idoc_idocno")
                            SelectionColor: =RGBA(0, 0, 0, 1)
                            SelectionFill: =RGBA(0, 0, 0, 0)
                            SelectMultiple: =false
                            Size: =AppFonts.fontSize
                            Width: |-
                                =If(ATCRequest.Size=3,'cntMainScreenIDOC#ATCRequest'.Width-lblPersonwasnoFoundATCRequest.Width-40, 'cntMainScreenIDOC#ATCRequest'.Width-'cntMainScreenIDOC#ATCRequest'.PaddingLeft-25)
                            X: =1
                            Y: =1
                            ZIndex: =5

                cntMainScreenFirstNameATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(ATCRequest.Size=3, 80,100)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =2

                    lblMainScreenFirstNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="First Name"
                        ZIndex: =1

                    lblErrorMessageMainScreenFirstNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="First Name is required field"
                        Visible: |-
                            =//If(IsBlank(txtMainScreenFirstNameATCRequest.Text), lvMandatoryField,false)
                            false
                        Width: =250
                        ZIndex: =3

                    txtMainScreenFirstNameATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: |-
                            =If(!IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') ,LookUp(CollRosters, 'IDOC No'='cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No').'First Name')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayMode: =DisplayMode.Disabled
                        EnableSpellCheck: =true
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="First Name"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: |
                            =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            
                            If(ATCRequest.Size=3,Parent.Width-lblUnitNumberATCRequest.Width-40, Parent.Width-Parent.PaddingLeft-25)
                        X: =2
                        ZIndex: =4

                cntMainScreenLastNameATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(ATCRequest.Size=3, 80,100)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =3

                    lblMainScreenLastNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Last Name"
                        ZIndex: =1

                    txtMainScreenLastNameATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: |
                            =If(!IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') ,LookUp(CollRosters, 'IDOC No'='cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No').'Last Name')
                        DisabledBorderColor: =AppColors.Grey
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayMode: =DisplayMode.Disabled
                        EnableSpellCheck: =true
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Last Name"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =00
                        Size: =AppFonts.fontSize
                        Width: |-
                            =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            
                            If(ATCRequest.Size=3,Parent.Width-lblMainScreenLastNameATCRequest.Width-40, Parent.Width-Parent.PaddingLeft-25)
                        ZIndex: =2

                cntFacilityATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    BorderStyle: =BorderStyle.None
                    FillPortions: =0
                    Height: =If(ATCRequest.Size=3, 80,100)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =4

                    lblFacilityATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Facility"
                        ZIndex: =1

                    cbxFacilityATCRequest As combobox:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(0, 0, 0, 0)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |-
                            =//If(gvNewATCRequest=false, LookUp('Facility Mappings', 'Facility Name'=gvEditATCRequest.'Facility Id'.'Facility Name'))
                            
                            If(gvNewATCRequest=false,LookUp('Facility Mappings', 'Facility Mapping'=gvEditATCRequest.'Facility Id'.'Facility Mapping'))
                        DefaultSelectedItems: |-
                            =//If(gvNewATCRequest=false, LookUp('Facility Mappings', 'Facility Name'=gvEditATCRequest.'Facility Id'.'Facility Name'))
                            
                            If(gvNewATCRequest=false,LookUp('Facility Mappings', 'Facility Mapping'=gvEditATCRequest.'Facility Id'.'Facility Mapping'))
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayFields: =["idoc_name"]
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =
                        InputTextPlaceholder: ="Select facility"
                        Items: =collFacility
                        LayoutMinWidth: =500
                        PaddingLeft: =12
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["idoc_name"]
                        SearchItems: =Search(collFacility,cbxFacilityATCRequest.SearchText,"idoc_name")
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(255, 255, 255, 1)
                        SelectMultiple: =false
                        Size: =AppFonts.fontSize
                        Width: |
                            =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            
                            If(ATCRequest.Size=3,Parent.Width-lblFacilityATCRequest.Width-40, Parent.Width-Parent.PaddingLeft-25)
                        X: =40
                        Y: =40
                        ZIndex: =2

                    lblMainScreenFacilityATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            =If(
                                IsBlank(cbxFacilityATCRequest.Selected.'Facility Name') && IsBlank(cbxFacilityATCRequest.SearchText),
                                "Facility is required",
                                If(
                                    !(cbxFacilityATCRequest.SearchText in cbxFacilityATCRequest.Selected.'Facility Name'),
                                    "Result Not Found"
                                )
                            )  
                        Visible: |-
                            =If(
                                IsBlank(cbxFacilityATCRequest.Selected.'Facility Name') && IsBlank(cbxFacilityATCRequest.SearchText),
                                lvMandatoryField,
                                If(
                                    cbxFacilityATCRequest.SearchText in cbxFacilityATCRequest.Selected.'Facility Name',
                                    false,
                                    true
                                )
                            )
                        Width: =250
                        ZIndex: =3

            cnt2ndSectionFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: |-
                    =cntResposnseDateATCRequest.Y + cntResposnseDateATCRequest.Height+18
                    //cntSubmitDateATCRequest.Height+cntSubmitDateATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =4

                cntUnitNumberATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: |-
                        =//140
                        
                        If(ATCRequest.Size=3,80,100)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =1

                    lblUnitNumberATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Unit Number"
                        ZIndex: =1

                    txtMainScreenUnitNumberATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =  If(gvNewATCRequest=false, gvEditATCRequest.'Unit Number')
                        DisabledBorderColor: =AppColors.Grey
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        EnableSpellCheck: =true
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: |+
                            =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            
                            If(ATCRequest.Size=3,Parent.Width-lblMainScreenFirstNameATCRequest.Width-40, Parent.Width-Parent.PaddingLeft-25)
                            
                        ZIndex: =2

                cntSubmitDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: |-
                        =//140
                        
                        //If(ATCRequest.Size=3,80,120)
                        //'cntCombineDatePicker&CheckboxATCRequest'.Height+'cntCombineDatePicker&CheckboxATCRequest'.Y
                        120
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =2

                    lblSubmitDateATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =38
                        PaddingTop: =0
                        Size: =AppFonts.fontSize
                        Text: ="Submit Date"
                        Width: |-
                            =
                            
                            If(ATCRequest.Size=3 , 149,250)
                            //250
                        ZIndex: =1

                    "'cntCombineDatePicker&CheckboxATCRequest' As groupContainer.verticalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: |-
                            =Parent.Height-lblSubmitDateATCRequest.Height
                            
                            //lblMainScreenFirstNameATCRequest_3.Height+lblMainScreenFirstNameATCRequest_3.Y
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        PaddingTop: =2
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =4

                        dateSubmitDateATCRequest As datepicker:
                            BorderColor: =AppColors.Grey
                            BorderThickness: =1
                            CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DefaultDate: = If(gvNewATCRequest=false, gvEditATCRequest.'Submit Date')
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Format: ="mm/dd/yyyy"
                            Height: =AppFonts.FieldHeight
                            HoverDateFill: =RGBA(205, 209, 213, 1)
                            IconBackground: =RGBA(255, 255, 255, 1)
                            IconFill: =AppColors.DarkGray
                            InputTextPlaceholder: ="MM/DD/YYYY"
                            SelectedDateFill: =RGBA(100, 118, 132, 1)
                            Size: =AppFonts.fontSize
                            Width: |+
                                =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                                //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                                If(ATCRequest.Size=3,'cntCombineDatePicker&CheckboxATCRequest'.Width, cntSubmitDateATCRequest.Width-cntSubmitDateATCRequest.PaddingLeft-25)
                                
                                
                                
                            ZIndex: =1

                        cbxSubmitDateATCRequest As checkbox:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =  If(gvNewATCRequest=false,gvEditATCRequest.'Is Submitted Date Incorrect')
                            Font: =AppFonts.FontStyle
                            Height: =28
                            HoverColor: =RGBA(32, 54, 71, 1)
                            Size: =10
                            Text: ="Submit Date is Incorrect"
                            Width: =214
                            X: =5
                            Y: =40
                            ZIndex: =2

                        lblMainScreenSubmitDateATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Submit Date is required"
                            Visible: =If(!IsBlank(dateDateReceivedbyParalegalATCRequest) && IsBlank(dateSubmitDateATCRequest.SelectedDate),true, If(IsBlank(dateSubmitDateATCRequest.SelectedDate), lvMandatoryField))
                            Width: =250
                            ZIndex: =3

                cntDateReceivedbyParalegalATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: |-
                        =//140
                        
                        If(ATCRequest.Size=3,80,120)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =3

                    lblDateReceivedbyParalegalATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        PaddingTop: =0
                        Size: =AppFonts.fontSize
                        Text: ="Date Received by Paralegal"
                        Width: |-
                            =//If(ATCRequest.Size=2 || ATCRequest.Size=4 || ATCRequest.Size=5 ||ATCRequest.Size=1,291, 150)
                            
                            If(ATCRequest.Size=3 , 149,250)
                            
                            //250
                        ZIndex: =1

                    dateDateReceivedbyParalegalATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: =If(gvNewATCRequest=false, gvEditATCRequest.'Date Received by Paralegal')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: |+
                            =//If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            If(ATCRequest.Size=3,Parent.Width-lblDateReceivedbyParalegalATCRequest.Width-40, Parent.Width-Parent.PaddingLeft-25)
                            
                            
                            
                            
                        X: =30
                        Y: =20
                        ZIndex: =6

                    lblErrorMessageDateReceivedbyParalegalATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+10
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If(IsBlank(dateDateReceivedbyParalegalATCRequest.SelectedDate),  "Date Received by Paralegal is required",If(dateDateReceivedbyParalegalATCRequest.SelectedDate<  dateSubmitDateATCRequest.SelectedDate , "Date Received by Paralegal should be greater than selected date"))
                        Visible: |-
                            =
                            
                            If(IsBlank(dateDateReceivedbyParalegalATCRequest.SelectedDate),  lvMandatoryField,   If(dateDateReceivedbyParalegalATCRequest.SelectedDate<  dateSubmitDateATCRequest.SelectedDate , true ))
                        Width: =dateDateReceivedbyParalegalATCRequest.Width
                        ZIndex: =7

                cntResposnseDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: |-
                        =//140
                        
                        If(ATCRequest.Size=3,80,115)
                    LayoutDirection: |-
                        =If(ATCRequest.Size =3 || ATCRequest.Size =1 ,  LayoutDirection.Horizontal,LayoutDirection.Vertical)
                        
                        //LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size = 2 || ATCRequest.Size = 3, Parent.Width/2, Parent.Width/4))
                    ZIndex: =4

                    lblResposnseDateATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        PaddingTop: =0
                        Size: =AppFonts.fontSize
                        Text: ="Resposnse Date"
                        Width: |+
                            =//If(ATCRequest.Size<4, 153,  250)
                            //If(ATCRequest.Size=2 || ATCRequest.Size=4 || ATCRequest.Size=5,250, 153)
                            
                            If(ATCRequest.Size=3 , 149,250)
                            
                        ZIndex: =1

                    dateResposnseDateATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: =If(gvNewATCRequest=false, gvEditATCRequest.'Response Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingLeft: =15
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: |+
                            =//If(328>Container10_2.Width, Container10_2.Width-10, 328)
                            
                            //If(gvNavBarWidth.ScreenMax =LeftNavigation_1.MenuWidth, Parent.Width-50,300)
                            
                            //If(ATCRequest.Size=4 || ATCRequest.Size=5  || ATCRequest.Size=3,220,  Parent.Width-50)
                            
                            
                            If(ATCRequest.Size=3,Parent.Width-lblResposnseDateATCRequest.Width-40, cntDateReceivedbyParalegalATCRequest.Width-cntDateReceivedbyParalegalATCRequest.PaddingLeft-25)
                            
                        ZIndex: =2

                    lblErrorMessageResposnseDateATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+5
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If( lvCloseRequest =true && IsBlank(dateResposnseDateATCRequest.SelectedDate),  "Response Date is required",  If(dateResposnseDateATCRequest.SelectedDate<  dateDateReceivedbyParalegalATCRequest.SelectedDate,"Response Date Should be greater than Date Received by Paralegal"))
                        Visible: =If(lvCloseRequest =true && IsBlank(dateResposnseDateATCRequest.SelectedDate), lvCloseRequest, If(lvCloseRequest =true &&dateResposnseDateATCRequest.SelectedDate<  dateDateReceivedbyParalegalATCRequest.SelectedDate,true))
                        Width: =250
                        ZIndex: =3

            cntCheckBoxesATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: |-
                    =//If(ATCRequest.Size=1,100,50)
                    
                    cbxATCFormNotSubmittedATCRequest.Y +cbxATCFormNotSubmittedATCRequest.Height
                LayoutDirection: |-
                    =//If(ATCRequest.Size = 1, LayoutDirection.Vertical  ,LayoutDirection.Horizontal)
                    LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =2
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =5

                cbxConcerFormUsedATCRequest As checkbox:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                    CheckboxSize: =25
                    Color: =RGBA(0, 0, 0, 1)
                    Default: =  If(gvNewATCRequest=false,gvEditATCRequest.'Is resident used concern form')
                    DisplayMode: =If(cbxATCFormNotSubmittedATCRequest.Value=true, DisplayMode.Disabled )
                    Font: =AppFonts.FontStyle
                    Height: =30
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Size: =AppFonts.fontSize
                    Text: ="Concern Form Used"
                    Width: =250
                    ZIndex: =1

                cbxATCFormNotSubmittedATCRequest As checkbox:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                    CheckboxSize: =25
                    Color: =RGBA(0, 0, 0, 1)
                    Default: = If(gvNewATCRequest=false, gvEditATCRequest.'ATC form not submitted')
                    DisplayMode: =If(cbxConcerFormUsedATCRequest.Value=true, DisplayMode.Disabled)
                    Font: =AppFonts.FontStyle
                    Height: =30
                    HoverColor: =RGBA(32, 54, 71, 1)
                    OnCheck: =If(Self.Value=true, Reset(cbxConcerFormUsedATCRequest))
                    Size: =AppFonts.fontSize
                    Text: ="ATC Form not Submitted"
                    Width: =250
                    ZIndex: =2

        cnt2ndSeperatorATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =40
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.Center
            LayoutMinHeight: =80
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-15
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =2

            rct2ndSeperatorATCRequest As rectangle:
                BorderColor: =RGBA(32, 54, 71, 1)
                Fill: =AppColors.Grey
                Height: =1
                Width: =Parent.Width
                ZIndex: =1

        cntRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
            FillPortions: =0
            Height: =50
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =3

            lblRequestATCRequest As label:
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Size: =AppFonts.titleFontSize
                Text: ="Request"
                ZIndex: =1

        cntGalleryRequestsATCRequest As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.Grey
            BorderThickness: =1
            FillPortions: =0
            Height: =45
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width
            LayoutMode: =LayoutMode.Auto
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =4

            galRequestsATCRequest As gallery.galleryVertical:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(32, 54, 71, 1)
                BorderStyle: =BorderStyle.None
                BorderThickness: =1
                DelayItemLoading: =true
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =Parent.Height
                Items: =colTabs
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =Parent.Width
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: =Set(gvTabSelected,ThisItem.ID)
                TemplatePadding: =0
                TemplateSize: =Parent.Height
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                WrapCount: =8
                ZIndex: =1

                lblRequestsATCRequest As label:
                    Align: =Align.Center
                    BorderColor: =AppColors.Grey
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Fill: =AppColors.LightBlueforHeader
                    Font: =AppFonts.FontStyle
                    Height: =cntGalleryRequestsATCRequest.Height-1
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: =ThisItem.Name
                    Width: =Parent.TemplateWidth
                    ZIndex: =1

                lblSelectedRequestsATCRequest As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(255, 255, 255, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Fill: =AppColors.DarkBlue
                    Font: =AppFonts.FontStyle
                    Height: |-
                        =//Parent.TemplateHeight
                        
                        cntGalleryRequestsATCRequest.Height
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: =ThisItem.Name
                    Visible: =gvTabSelected = ThisItem.ID
                    Width: =Parent.TemplateWidth
                    ZIndex: =2

                btnRequestsATCRequest As button:
                    Color: =RGBA(0, 0, 0, 0)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                    Font: =AppFonts.FontStyle
                    Height: =Parent.Height
                    HoverColor: =RGBA(0, 0, 0, 0)
                    HoverFill: =
                    OnSelect: =Select(Parent)
                    PressedColor: =
                    PressedFill: =
                    Text: =
                    Width: =Parent.TemplateWidth
                    ZIndex: =3

                Rectangle1 As rectangle:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Fill: =AppColors.Grey
                    Height: =Parent.Height
                    OnSelect: =Select(Parent)
                    Visible: =If(ThisItem.ID=1, false, true)
                    Width: =1
                    ZIndex: =4

        cntPacketRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: =galPacketRequestATCRequest.Height-3
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width
            LayoutMode: =LayoutMode.Auto
            Visible: =gvTabSelected=1
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =5

            galPacketRequestATCRequest As gallery.galleryVertical:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =AppColors.Grey
                BorderThickness: =1
                DelayItemLoading: =true
                Fill: |-
                    =//If(Gallery1.AllItemsCount, AppColors.Grey,RGBA(255,255,255,1))
                    RGBA(255,255,255,1)
                FillPortions: =0
                Height: =RoundUp(galPacketRequestATCRequest.AllItemsCount/If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 2, ATCRequest.Size=3, 3, ATCRequest.Size>3,5)),0.5) * (Self.TemplateHeight + Self.TemplatePadding +22) 
                Items: |
                    =collPackets
                Layout: =Layout.Vertical
                LayoutMinHeight: =200
                LayoutMinWidth: =Parent.Width
                OnSelect: =
                TemplateFill: =RGBA(255, 255, 255, 1)
                TemplatePadding: =
                TemplateSize: =65
                Visible: =gvTabSelected=1
                Width: =Parent.Width
                WrapCount: =If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 2, ATCRequest.Size=3, 3, ATCRequest.Size>3,4))
                ZIndex: =1

                lblPacketsATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =65
                    OnSelect: =Select(Parent)
                    Size: =AppFonts.fontSize
                    Text: =ThisItem.'Packet Name'
                    Width: |-
                        =//153
                        
                        icnAddQuantityATCRequest.X-50
                    X: =40
                    ZIndex: =1

                cbxPacketsATCRequest As checkbox:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                    CheckboxSize: =25
                    Color: =RGBA(0, 0, 0, 0)
                    Default: |-
                        =//If(IsBlank(LookUp(collSelectedPackets, 'Packet ID'.Packets=ThisItem.Packets)), false, true)
                        If(!IsBlank(LookUp(collSelectedPackets, 'Packet ID'.Packets=ThisItem.Packets)),  true, false )
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =65
                    HoverBorderColor: =
                    HoverColor: =RGBA(0, 0, 0, 0)
                    HoverFill: =
                    OnCheck: |-
                        =Patch(collPacketsCount,
                        ThisItem,
                        {Count:1});
                        
                        Set(lvCountPackets,lvCountPackets+1)
                    OnSelect: =Select(Parent)
                    OnUncheck: |-
                        =Patch(collPacketsCount,
                        ThisItem,
                        {Count:1});
                        Set(lvCountPackets,lvCountPackets-1)
                    PaddingLeft: =5
                    PressedBorderColor: =
                    PressedColor: =RGBA(0, 0, 0, 0)
                    PressedFill: =
                    Size: =AppFonts.fontSize
                    Text: =ThisItem.'Packet Name'
                    Width: =If(ATCRequest.Size = 1, Parent.Width, If(ATCRequest.Size=2, Parent.Width/2, ATCRequest.Size=3, Parent.Width/3, ATCRequest.Size>3,Parent.Width/4))
                    ZIndex: =2

                icnSubtractQuantityATCRequest As icon.HorizontalLine:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(153, 153, 153, 1)
                    DisplayMode: =If(LookUp(collPacketsCount,'Packet Name'=ThisItem.'Packet Name',Count)=10,DisplayMode.Disabled,DisplayMode.Edit)
                    Height: =15
                    Icon: =Icon.Add
                    OnSelect: |-
                        =Patch(collPacketsCount,
                        ThisItem,
                        {Count:LookUp(collPacketsCount, 'Packet Name' = ThisItem.'Packet Name', Count+1)}) 
                        
                        
                        //Set(lvCount,lvCount+1)
                    Visible: =If(cbxPacketsATCRequest.Value =true , true, false)
                    Width: =15
                    X: =cbxPacketsATCRequest.Width-Self.Width-10
                    Y: =23
                    ZIndex: =4

                icnAddQuantityATCRequest As icon.Add:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =15
                    Icon: =Icon.HorizontalLine
                    OnSelect: |
                        =Patch(collPacketsCount,
                        ThisItem,
                        {Count:LookUp(collPacketsCount, 'Packet Name' = ThisItem.'Packet Name', Count-1)});  //Set(lvCount,lvCount-1)
                        
                        
                        If(LookUp(collPacketsCount, 'Packet Name' = ThisItem.'Packet Name').Count=0, Reset(cbxPacketsATCRequest))
                    Visible: |-
                        =If(cbxPacketsATCRequest.Value =true  , true, false)
                        //&& LookUp(collPackets1, 'Packet Name' = ThisItem.'Packet Name', Count) <>1
                    Width: =12
                    X: =cbxPacketsATCRequest.Width-lblQuantityATCRequest.Width-45
                    Y: =22
                    ZIndex: =5

                lblQuantityATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =17
                    Size: =AppFonts.fontSize
                    Text: |-
                        =// LookUp(collPacketsCount, 'Packet Name' = ThisItem.'Packet Name', Count) 
                        If(gvNewATCRequest=true || lvFlag8=false,  LookUp(collPacketsCount, 'Packet Name' = ThisItem.'Packet Name', Count),If(gvNewATCRequest=false, LookUp(collSelectedPackets, 'Packet ID'.Packets=ThisItem.Packets, Quantity)))
                    Visible: =If(cbxPacketsATCRequest.Value =true, true, false)
                    Width: =30
                    X: =cbxPacketsATCRequest.Width-icnSubtractQuantityATCRequest.Width-40
                    Y: =22
                    ZIndex: =6

        cntBookRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Start
            BorderColor: =RGBA(16, 24, 40, 0.12)
            BorderThickness: =2
            FillPortions: =0
            Height: |
                =//Container34_4.Y+Container34_4.Height+Self.PaddingBottom
                //If(Radio1_1.Selected.Value="Visit Request",  Container39_3.Height+Container39_3.Y+Self.PaddingBottom,Container34_4.Y+Container34_4.Height+Self.PaddingBottom)
                //Gallery2.Height+Gallery2.Y
                
                galBookDetailsATCRequest.Height+galBookDetailsATCRequest.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutMinHeight: =galBookDetailsATCRequest.Height+galBookDetailsATCRequest.Y
            LayoutMinWidth: =0
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected=2
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =6

            cntBookRequestHeaderATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =50
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                cntAvailableBooksATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =50
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =50
                    LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/2
                    ZIndex: =1

                    lblAvailableBooksATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Bold
                        PaddingBottom: =0
                        Size: =AppFonts.subTitleFontSize
                        Text: ="Available Books"
                        Underline: =true
                        Width: =250
                        ZIndex: =1

                btnAddBookSelection As button:
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =AppColors.Orange
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =AppColors.Orange
                    OnSelect: |+
                        =Collect(
                            collBookDetails,
                            {BookDetailID: Last(collBookDetails).BookDetailID + 1}
                        );
                        
                        UpdateContext({lvLastBook: Last(galBookDetailsATCRequest.AllItems).BookDetailID});
                        
                        
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =AppColors.Orange
                    RadiusBottomLeft: =00
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =AppFonts.fontSize
                    Text: ="Add Book Selection"
                    Visible: |-
                        =If(gvNewATCRequest=false, true,   If(
                            !IsBlank(cmbFacilityATCRequest) || !IsBlank(cmbBookATCREquest) || !IsBlank(dateCheckOutATCRequest) || !IsBlank(dateDueDateATCRequest) || !IsBlank(rdoBookDeliveryTypeATCRequest) || !IsBlank(dateDeliveryDateATCRequest) || !IsBlank(ddDeliveryDateFromATCRequest) || !IsBlank(ddDeliveryDatetoATCRequest) ||  !IsBlank(rdoBookReturnTypeATCRequest) || !IsBlank(dateddReturnDateATCREquest) || !IsBlank(ddReturnDateFromATCREquest) || !IsBlank(ddReturnDateToATCREquest) ,
                            true,
                            false
                        ))
                    Width: =180
                    ZIndex: =2

            galBookDetailsATCRequest As gallery.variableTemplateHeightGallery:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(255, 255, 255, 1)
                BorderThickness: =3
                DelayItemLoading: =true
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: |+
                    =//Gallery2.TemplateHeight*CountRows(Gallery2.AllItems)
                    
                    Sum(Self.AllItems,lblHeightofGalleryATCRequest.Text)
                    
                Items: =collBookDetails
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =0
                TemplateSize: |+
                    =/*If(CountRows(collBookDetails)=1, If(Radio1_3.Selected.Value="Visit Request", Container39_10.Height+Container39_10.Y, Container34_6.Y+Container34_6.Height),
                    cnt1stSeperatorATCRequest_1.Height+cnt1stSeperatorATCRequest_1.Y)*/
                    
                    cntBookSeperatorATCRequest.Height+cntBookSeperatorATCRequest.Y
                    
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =2

                lblHeightofGalleryATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    OnSelect: =Select(Parent)
                    Size: =13
                    Text: |-
                        =//cnt1stSeperatorATCRequest_1.Y+cnt1stSeperatorATCRequest_1.Height
                        cntRemoveBookATCRequest.Height+cntRemoveBookATCRequest.Y
                    Visible: =false
                    X: =236
                    ZIndex: =3

                "'cntFacility/BookATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                    Height: =If(lblErrorMessageBookATCRequest.Visible=true|| lblErrorMessageBookFacilityATCRequest.Visible=true, 100 ,cntBookATCRequest.Y+cntBookATCRequest.Height)
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: =If(cntBookSeperatorATCRequest.Visible=true, cntBookSeperatorATCRequest.Height+cntBookSeperatorATCRequest.Y, 0)
                    ZIndex: =4

                    cntBookFacilityATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =If(lblErrorMessageBookFacilityATCRequest.Visible=true,100, 90)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =100
                        LayoutMinWidth: =Parent.Width/2-150
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: = If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size=2 ||ATCRequest.Size=3,Parent.Width/2,  350))
                        ZIndex: =1

                        lblBookFacilityATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: ="Facility"
                            ZIndex: =1

                        lblErrorMessageBookFacilityATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: |+
                                =If(
                                    IsBlank(cmbFacilityATCRequest.Selected.'Facility Name')&& IsBlank(cmbFacilityATCRequest.SearchText) ,
                                    "Facility is required",
                                    If(
                                        !(cmbFacilityATCRequest.SearchText in ThisItem.IsSelected),
                                        "Result Not Found"
                                        
                                    )
                                ) 
                                
                            Visible: |-
                                =
                                /*If(
                                    IsBlank(ComboBox1_3.Selected.'Facility Name') && IsBlank(ComboBox1_3.SearchText),
                                    lvMandatoryBookDetails,
                                    If(
                                        ComboBox1_3.SearchText in ThisItem.IsSelected,
                                        false,
                                        true
                                    )
                                )*/
                                
                                
                                If(
                                    IsBlank(cmbFacilityATCRequest.Selected.'Facility Name') && IsBlank(cmbFacilityATCRequest.SearchText),
                                    lvMandatoryBookDetails,
                                    If(
                                       cmbFacilityATCRequest.SearchText in cmbFacilityATCRequest.Selected.'Facility Name',
                                        false,
                                        true
                                    )
                                )
                            Width: =250
                            ZIndex: =3

                    cntBookATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =If(lblErrorMessageBookATCRequest.Visible=true,100,   90)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =100
                        LayoutMinWidth: =Parent.Width/2
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =If(ATCRequest.Size =1, Parent.Width, If(ATCRequest.Size=2||ATCRequest.Size=3,Parent.Width/2,  Parent.Width- cntBookFacilityATCRequest.Width))
                        ZIndex: =2

                        lblBookATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: ="Book"
                            ZIndex: =1

                        lblErrorMessageBookATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: |-
                                =/*If(
                                     IsBlank(ComboBox1_4.Selected.'Book Title') && IsBlank(ComboBox1_4.SearchText),
                                    "Book is required",
                                    If(
                                        !(ComboBox1_4.SearchText in ThisItem.IsSelected),
                                        "Result Not Found"
                                        
                                    )
                                ) */
                                
                                If(
                                     IsBlank(cmbBookATCREquest.Selected.'Book Title') && IsBlank(cmbBookATCREquest.SearchText),
                                    "Book is required",
                                    If(
                                        !(cmbBookATCREquest.SearchText in cmbBookATCREquest.Selected.'Book Title'),
                                        "Result Not Found",
                                        If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=0, "Book is not available, please add it to the waitlist")
                                    )
                                )
                                  
                                
                                
                                  
                                  
                            Visible: |+
                                =/*
                                If(
                                     IsBlank(ComboBox1_4.Selected.'Book Id') && IsBlank(ComboBox1_4.SearchText),
                                    lvMandatoryBookDetails,
                                    If(
                                        ComboBox1_4.SearchText in ThisItem.IsSelected,
                                        false,
                                        true
                                    )
                                ) */
                                
                                If(
                                     IsBlank(cmbBookATCREquest.Selected.'Book Id') && IsBlank(cmbBookATCREquest.SearchText),
                                    lvMandatoryBookDetails,
                                    If(
                                     LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=0,true,
                                       If(
                                        cmbBookATCREquest.SearchText in cmbBookATCREquest.Selected.'Book Id',
                                        false,
                                        true
                                    )
                                ))
                                
                                
                                
                                
                            Width: =300
                            ZIndex: =3

                cntCheckOutDueDatesATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =If(lblErrorMessageDueDateATCRequest.Visible=true||lblErrorMessageCheckOutDateATCRequest.Visible=true, 100, 90)
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: ='cntFacility/BookATCRequest'.Height+'cntFacility/BookATCRequest'.Y
                    ZIndex: =5

                    cntCheckOutDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =If(lblErrorMessageCheckOutDateATCRequest.Visible=true,100,90)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        Width: = Parent.Width/3
                        ZIndex: =2

                        lblCheckOutDateATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            PaddingTop: =0
                            Size: =AppFonts.fontSize
                            Text: |-
                                ="Check Out Date:"
                            Width: =If(ATCRequest.Size<4, 150,  291)
                            ZIndex: =1

                        lblErrorMessageCheckOutDateATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Check Out Date is required"
                            Visible: =If(IsBlank(dateCheckOutATCRequest.SelectedDate) && IsBlank(ThisItem.'Book Checkout Date'), lvMandatoryBookDetails,false)
                            Width: =250
                            ZIndex: =3

                    cntDueDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =If(lblErrorMessageDueDateATCRequest.Visible=true,100,90)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =100
                        LayoutMinWidth: =Parent.Width/3
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        Width: = Parent.Width/3
                        ZIndex: =3

                        lblDueDateATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            PaddingTop: =0
                            Size: =AppFonts.fontSize
                            Text: |-
                                ="Due Date:"
                            Width: =If(ATCRequest.Size<4, 150,  250)
                            ZIndex: =1

                        lblErrorMessageDueDateATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: =If(IsBlank(dateDueDateATCRequest.SelectedDate),  "Due Date is required",  If(dateDueDateATCRequest.SelectedDate<  dateCheckOutATCRequest.SelectedDate,"Due Date Should be greater than Check Out Date"))
                            Visible: =If(IsBlank(dateDueDateATCRequest.SelectedDate) && IsBlank(ThisItem.'Book Due Date'),  lvMandatoryBookDetails,  If(dateDueDateATCRequest.SelectedDate<  dateCheckOutATCRequest.SelectedDate  ,true))
                            Width: =280
                            ZIndex: =3

                    "'cntCheckIn/ExtendToATCRequest' As groupContainer.verticalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =If('lblErrorMessageCheckIn/ExtendToATCRequest'.Visible=true,100,90)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =100
                        LayoutMinWidth: =Parent.Width/3
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        Width: = Parent.Width/3
                        ZIndex: =4

                        "'lblErrorMessageCheckIn/ExtendToATCRequest' As label":
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: =If(IsBlank(dateDueDateATCRequest.SelectedDate),  "Due Date is required",  If(dateDueDateATCRequest.SelectedDate<  dateCheckOutATCRequest.SelectedDate,"Due Date Should be greater than Check Out Date"))
                            Visible: =If(IsBlank(dateDueDateATCRequest.SelectedDate) && IsBlank(ThisItem.'Book Due Date'),  lvMandatoryBookDetails,  If(dateDueDateATCRequest.SelectedDate<  dateCheckOutATCRequest.SelectedDate  ,true))
                            Width: =280
                            ZIndex: =2

                cntBookDeliveryTypeATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =If(lblErrorMessageBookDeliveryTypeATCRequest.Visible=true,65,50)
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: =If(cntAddtoWaitlistATCRequest.Visible=true, cntAddtoWaitlistATCRequest.Height+cntAddtoWaitlistATCRequest.Y, cntCheckOutDueDatesATCRequest.Height+cntCheckOutDueDatesATCRequest.Y)
                    ZIndex: =6

                    lblBookDeliveryTypeATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =Parent.Height
                        Size: =AppFonts.fontSize
                        Text: ="Will there be a call out or visit request to deliver the book? "
                        Width: =  If(ATCRequest.Size=1, 250,  If(ATCRequest.Size=2 || ATCRequest.Size=3,400, 460))
                        ZIndex: =1

                    cntInsideBookDeliveryTypeATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =lblErrorMessageBookDeliveryTypeATCRequest.Height+lblErrorMessageBookDeliveryTypeATCRequest.Y
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =3

                        lblErrorMessageBookDeliveryTypeATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =20
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Please select an option"
                            Visible: =If(IsBlank(rdoBookDeliveryTypeATCRequest.Selected.Value) && IsBlank(ThisItem.'Book Deliver Type')&& IsBlank(cmbBookATCREquest.Selected.'Book Title') ,  lvMandatoryBookDetails ,If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=1 && IsBlank(rdoBookDeliveryTypeATCRequest.Selected.Value), lvMandatoryBookDetails, false))
                            Width: =250
                            ZIndex: =2

                "'cntDeliveryDate&TimeATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                    Height: =If(lblErrorMessageDeliveryDateToATCRequest.Visible=true||lblErrorMessageDeliveryDateFromATCRequest.Visible=true ||lblErrorMessageDeliveryDateATCRequest.Visible=true,110,90)
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: =cntBookDeliveryTypeATCRequest.Height+cntBookDeliveryTypeATCRequest.Y
                    ZIndex: =7

                    "'cntLabelDeliveryDate&TimeATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: |
                            =Parent.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =470
                        ZIndex: =1

                        "'lblDeliveryDate&TimeATCRequest' As label":
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: ="When will this call out take place?"
                            Width: =If(ATCRequest.Size<4,Parent.Width/4, 470)
                            ZIndex: =1

                    "'cntDeliveryDate&TimeFieldsATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =cntDeliveryDateToATCRequest.Height+cntDeliveryDateToATCRequest.Y
                        LayoutMinHeight: |
                            =Parent.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width-'lblDeliveryDate&TimeATCRequest'.Width
                        ZIndex: =2

                        cntDeliveryDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =If(lblErrorMessageDeliveryDateATCRequest.Visible=true,100,90)
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =If(lblErrorMessageDeliveryDateATCRequest.Visible=true,100,90)
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =If(ATCRequest.Size<4,Parent.Width/2, (Parent.Width)/3+40)
                            ZIndex: =1

                            lblDeliveryDateATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="Date:"
                                ZIndex: =1

                            lblErrorMessageDeliveryDateATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage+5
                                PaddingTop: =0
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="Date is required"
                                Visible: |+
                                    =If( IsBlank(dateDeliveryDateATCRequest.SelectedDate) && IsBlank(ThisItem.'Delivery Date From')&& IsBlank(cmbBookATCREquest.Selected.'Book Title') ,  lvMandatoryBookDetails ,If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=1 && IsBlank(dateDeliveryDateATCRequest.SelectedDate), lvMandatoryBookDetails, false))
                                    
                                    
                                Width: =250
                                ZIndex: =3

                        cntDeliveryDateFromATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =If(lblErrorMessageDeliveryDateFromATCRequest.Visible=true ,110,90)
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =If(lblErrorMessageDeliveryDateFromATCRequest.Visible=true ,95,90)
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Visible: |
                                =//If(IsBlank(Radio1_2.Selected.Value),true,  If(Radio1_2.Selected.Value="Visit Request", false, true))
                                true
                            Width: =(Parent.Width)/3-15
                            ZIndex: =2

                            lblDeliveryDateFromATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="From:"
                                ZIndex: =1

                            lblErrorMessageDeliveryDateFromATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage+5
                                PaddingTop: =0
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="From Time is required"
                                Visible: |-
                                    =//If(IsBlank(Dropdown1_3.Selected.Value),  lvMandatoryBookDetails)
                                    false
                                Width: =Parent.Width
                                ZIndex: =3

                        cntDeliveryDateToATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =If(lblErrorMessageDeliveryDateToATCRequest.Visible=true,110,90)
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =If(lblErrorMessageDeliveryDateToATCRequest.Visible=true,110,90)
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Visible: |-
                                =//If(IsBlank(Radio1_2.Selected.Value),true, If(Radio1_2.Selected.Value="Visit Request", false, true))
                                true
                            Width: =(Parent.Width)/3-15
                            ZIndex: =3

                            lblDeliveryDateToATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="To:"
                                Width: =100
                                ZIndex: =1

                            lblErrorMessageDeliveryDateToATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage+5
                                PaddingTop: =0
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: = If(TimeValue(ddDeliveryDatetoATCRequest.Selected.Value) <  TimeValue(ddDeliveryDateFromATCRequest.Selected.Value),"To time should be greater than From Time")
                                Visible: =If(IsBlank(ddDeliveryDatetoATCRequest.Selected.Value) && IsBlank(ThisItem.'Delivery Date To'),  false, If(TimeValue(ddDeliveryDatetoATCRequest.Selected.Value) <  TimeValue(ddDeliveryDateFromATCRequest.Selected.Value)   ,true))
                                Width: =Parent.Width-10
                                ZIndex: =3

                cntIncludeATCResponseDeliveryATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =40
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: |-
                        =If(rdoBookDeliveryTypeATCRequest.Selected.Value="Visit Request"  && IsBlank(ThisItem.'Book Deliver Type'), true,false )
                                         
                    Width: =Parent.Width
                    Y: ='cntDeliveryDate&TimeATCRequest'.Height+'cntDeliveryDate&TimeATCRequest'.Y
                    ZIndex: =8

                    lblIncludeATCResponseDeliveryATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Do you want to include an ATC response with this request?"
                        Width: =460
                        ZIndex: =1

                cntBookReturnTypeATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =If(lblErrorMessageBookReturnTypeATCRequest.Visible=true,65,  50)
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: |-
                        =//If(Radio1_2.Selected.Value="Visit Request", Container39_6.Height+Container39_6.Y, Container34_5.Height+Container34_5.Y)
                        //Container34_5.Height+Container34_5.Y
                        If(cntIncludeATCResponseDeliveryATCRequest.Visible=true, cntIncludeATCResponseDeliveryATCRequest.Height+cntIncludeATCResponseDeliveryATCRequest.Y, 'cntDeliveryDate&TimeATCRequest'.Height+'cntDeliveryDate&TimeATCRequest'.Y)
                    ZIndex: =9

                    lblBookReturnTypeATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =Parent.Height
                        Size: =AppFonts.fontSize
                        Text: ="Will there be a call out or visit request to return the book? "
                        Width: =  If(ATCRequest.Size=1, 250,  If(ATCRequest.Size=2 || ATCRequest.Size=3,400, 460))
                        ZIndex: =1

                    cntButtonBookReturnTypeATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =lblErrorMessageBookReturnTypeATCRequest.Height+rdoBookReturnTypeATCRequest.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =3

                        lblErrorMessageBookReturnTypeATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =20
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Please select an option"
                            Visible: =If(IsBlank(rdoBookReturnTypeATCRequest.Selected.Value) && IsBlank(ThisItem.'Book Return Type') && IsBlank(cmbBookATCREquest.Selected.'Book Title') ,  lvMandatoryBookDetails ,If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=1 && IsBlank(rdoBookReturnTypeATCRequest.Selected.Value), lvMandatoryBookDetails, false))
                            Width: =250
                            ZIndex: =2

                Container34_6xz As groupContainer.horizontalAutoLayoutContainer:
                    Height: =1
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: =cntBookReturnTypeATCRequest.Height+cntBookReturnTypeATCRequest.Y
                    ZIndex: =10

                cntIncludeATCResponseReturnATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =40
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: |
                        =If(rdoBookReturnTypeATCRequest.Selected.Value="Visit Request" && IsBlank(ThisItem.'Book Return Type'),  true, false)
                    Width: =Parent.Width
                    Y: ='cntReturnDate&TimeATCRequest'.Height+'cntReturnDate&TimeATCRequest'.Y
                    ZIndex: =11

                    lblIncludeATCResponseReturnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Do you want to include an ATC response with this request?"
                        Width: =460
                        ZIndex: =1

                cntBookSeperatorATCRequest As groupContainer.verticalAutoLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    Height: =20
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: |-
                        =//If(ThisItem.BookDetailID=lvLastBook ||CountRows(collBookDetails)=1,false,true)
                        //If(CountRows(collBookDetails)=1,false,true)
                        true
                    Width: =Parent.Width
                    Y: |
                        =//Container8.Height+Container8.Y
                        //Container34_9.Height+Container34_9.Y
                        0
                    ZIndex: =12

                    rctBookSeperatorATCRequest As rectangle:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Fill: =AppColors.Grey
                        Height: =1
                        Width: =Parent.Width
                        ZIndex: =1

                "'cntReturnDate&TimeATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                    Height: =cntReturnDatetoATCRequest.Y+cntReturnDatetoATCRequest.Height
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    Y: =Container34_6xz.Height+Container34_6xz.Y
                    ZIndex: =13

                    "'cntInsideCallOutDate&TimeATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =470
                        ZIndex: =1

                        "'lblCallOutDate&TimeATCRequest' As label":
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: ="When will this call out take place?"
                            Width: =If(ATCRequest.Size<4,Parent.Width/4, 470)
                            ZIndex: =1

                    "'cntFiledsCallOutDate&TimeATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =cntReturnDatetoATCRequest.Height
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width-'lblCallOutDate&TimeATCRequest'.Width
                        ZIndex: =2

                        cntReturnDateATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =100
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =90
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =If(ATCRequest.Size<4,Parent.Width/2,  (Parent.Width)/3+40)
                            ZIndex: =1

                            lblReturnDateATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="Date:"
                                ZIndex: =1

                            lblErrorMessageReturnDateATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="Date is required"
                                Visible: =If(IsBlank(dateddReturnDateATCREquest.SelectedDate) && IsBlank(ThisItem.'Book Return Type')&& IsBlank(cmbBookATCREquest.Selected.'Book Title') ,  lvMandatoryBookDetails ,If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=1  && IsBlank(dateddReturnDateATCREquest.SelectedDate), lvMandatoryBookDetails, false))
                                Width: =250
                                ZIndex: =3

                        cntReturnDateFromATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =100
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =90
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Visible: |-
                                =//If(Radio1_3.Selected.Value="Visit Request", false, true)
                                true
                            Width: =(Parent.Width)/3-15
                            ZIndex: =2

                            lblReturnDateFromATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="From:"
                                ZIndex: =1

                            lblErrorMessageReturnDateFromATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="From Time is required"
                                Visible: |-
                                    =//If(IsBlank(Dropdown1_7.Selected.Value),  lvMandatoryBookDetails)
                                    
                                    false
                                Width: =Parent.Width
                                ZIndex: =3

                        cntReturnDatetoATCRequest As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =102
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =90
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =2
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Visible: |-
                                =//If(Radio1_3.Selected.Value="Visit Request", false, true)
                                true
                            Width: =(Parent.Width)/3-15
                            ZIndex: =3

                            lblReturnDatetoATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="To:"
                                Width: =100
                                ZIndex: =1

                            lblErrorMessageReturnDatetoATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="To time should be greater than From Time"
                                Visible: =If(IsBlank(ddReturnDateToATCREquest.Selected.Value) && IsBlank(ThisItem.'Return Date To'),  false, If(TimeValue(ddReturnDateToATCREquest.Selected.Value) < TimeValue(ddReturnDateFromATCREquest.Selected.Value), true))
                                Width: =Parent.Width-20
                                ZIndex: =3

                cmbFacilityATCRequest As combobox:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                    ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                    ChevronHoverFill: =AppColors.DarkGray
                    Default: =LookUp('Facility Mappings', 'Facility Name'=ThisItem.'Facility ID'.'Facility Name')
                    DefaultSelectedItems: =LookUp('Facility Mappings', 'Facility Name'=ThisItem.'Facility ID'.'Facility Name')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["idoc_name"]
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    InputTextPlaceholder: ="Select facility"
                    Items: =collFacility
                    OnChange: =
                    OnSelect: =
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(255, 255, 255, 1)
                    SearchFields: =["idoc_name"]
                    SearchItems: =Search(collFacility,cmbFacilityATCRequest.SearchText,"idoc_name")
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(255, 255, 255, 1)
                    SelectMultiple: =false
                    Size: =AppFonts.fontSize
                    Width: =291
                    X: =lblBookFacilityATCRequest.X
                    Y: =If(cntBookSeperatorATCRequest.Visible=true, cntBookSeperatorATCRequest.Height+cntBookSeperatorATCRequest.Y+ lblBookFacilityATCRequest.Height+lblBookFacilityATCRequest.Y, lblBookFacilityATCRequest.Height+lblBookFacilityATCRequest.Y)  
                    ZIndex: =15

                cmbBookATCREquest As combobox:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                    ChevronDisabledFill: =RGBA(0, 0, 0, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =
                    ChevronHoverFill: =AppColors.DarkGray
                    DefaultSelectedItems: =LookUp(collBookInventory, 'Book Title'=ThisItem.'Book Id'.'Book Title')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(0, 0, 0, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["idoc_name"]
                    DisplayMode: |-
                        =/*If(
                            IsBlank(ComboBox1_3.Selected),
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                        */
                        
                        DisplayMode.Edit
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    InputTextPlaceholder: ="Select book"
                    Items: =Filter('Book Inventories', 'Facility Id'.'Facility Name' = cmbFacilityATCRequest.Selected.'Facility Name')
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(0, 0, 0, 0)
                    SearchFields: =["idoc_name"]
                    SearchItems: =Search(Filter('Book Inventories', 'Facility Id'.'Facility Name' = cmbFacilityATCRequest.Selected.'Facility Name'),cmbBookATCREquest.SearchText,"idoc_name")
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(255, 255, 255, 1)
                    SelectMultiple: =false
                    Size: =AppFonts.fontSize
                    Width: =If(ATCRequest.Size=1||ATCRequest.Size=2,291, If(ATCRequest.Size=3,291, 500))
                    X: =355
                    Y: =  If(cntBookSeperatorATCRequest.Visible=true, cntBookSeperatorATCRequest.Height+cntBookSeperatorATCRequest.Y +lblBookATCRequest.Height+lblBookATCRequest.Y, lblBookATCRequest.Height+lblBookATCRequest.Y)
                    ZIndex: =16

                dateCheckOutATCRequest As datepicker:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DefaultDate: =ThisItem.'Book Checkout Date'
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: |-
                        =//If(IsBlank(ComboBox1_4.Selected.'Book Title'), DisplayMode.Disabled,  DisplayMode.Edit)
                        
                        DisplayMode.Edit
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Format: ="mm/dd/yyyy"
                    Height: =AppFonts.FieldHeight
                    HoverDateFill: =RGBA(205, 209, 213, 1)
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =AppColors.DarkGray
                    InputTextPlaceholder: ="MM/DD/YYYY"
                    PaddingTop: =5
                    SelectedDateFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Width: =If(ATCRequest.Size=1,200, 250)
                    X: =lblCheckOutDateATCRequest.X
                    Y: =cntCheckOutDueDatesATCRequest.Y+lblCheckOutDateATCRequest.Height
                    ZIndex: =17

                dateDueDateATCRequest As datepicker:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DefaultDate: =ThisItem.'Book Due Date'
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: |-
                        =//If(IsBlank(DatePicker1_10.SelectedDate), DisplayMode.Disabled,  DisplayMode.Edit)
                        
                        DisplayMode.Edit
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Format: ="mm/dd/yyyy"
                    Height: =AppFonts.FieldHeight
                    HoverDateFill: =RGBA(205, 209, 213, 1)
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =AppColors.DarkGray
                    InputTextPlaceholder: ="MM/DD/YYYY"
                    PaddingTop: =5
                    SelectedDateFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Width: |-
                        =//If(328>Container10_2.Width, Container10_2.Width-10, 328)
                        
                        If(ATCRequest.Size=1,200, 250)
                    X: =cntDueDateATCRequest.X
                    Y: =cntCheckOutDueDatesATCRequest.Y+lblDueDateATCRequest.Height
                    ZIndex: =18

                rdoBookDeliveryTypeATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: =ThisItem.'Book Deliver Type'
                    Font: =AppFonts.FontStyle
                    Height: |
                        =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: |
                        =["Call Out Request","Visit Request"]
                    Layout: =Layout.Horizontal
                    PaddingBottom: =0
                    PaddingTop: =7
                    RadioBorderColor: |+
                        =//If(Self.Selected.Value="Yes", AppColors.Orange, RGBA(0,0,0,1))
                        
                        
                            
                                RGBA(0,0,0,1)  
                        
                        
                    RadioSize: =25
                    Reset: =true
                    Size: =AppFonts.fontSize
                    Width: =400
                    X: =462
                    Y: =cntBookDeliveryTypeATCRequest.Y+5
                    ZIndex: =19

                dateDeliveryDateATCRequest As datepicker:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DefaultDate: =If(gvNewATCRequest=true, dateCheckOutATCRequest.SelectedDate,  DateValue(ThisItem.'Delivery Date From'))
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Format: ="mm/dd/yyyy"
                    Height: =AppFonts.FieldHeight
                    HoverDateFill: =RGBA(205, 209, 213, 1)
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =AppColors.DarkGray
                    InputTextPlaceholder: ="MM/DD/YYYY"
                    OnChange: =
                    PaddingTop: =5
                    SelectedDateFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Width: =cntDeliveryDateATCRequest.Width-35
                    X: =474
                    Y: ='cntDeliveryDate&TimeATCRequest'.Y+lblDeliveryDateATCRequest.Height
                    ZIndex: =20

                ddDeliveryDateFromATCRequest As dropdown:
                    AllowEmptySelection: =true
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                    ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =RGBA(0, 0, 0, 0)
                    ChevronHoverFill: =AppColors.DarkGray
                    Default: =TimeValue(ThisItem.'Delivery Date From')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Items: |+
                        =//Sequence(25,00,1)c
                        
                        ["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                        
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(0, 0, 0, 0)
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(0, 0, 0, 0)
                    Size: =AppFonts.fontSize
                    Visible: |
                        =//If(IsBlank(Radio1_2.Selected.Value),true, If(Radio1_2.Selected.Value="Visit Request", false, true))
                        true
                    Width: =cntDeliveryDateFromATCRequest.Width-35
                    X: ='cntDeliveryDate&TimeFieldsATCRequest'.X+   cntDeliveryDateFromATCRequest.X
                    Y: ='cntDeliveryDate&TimeATCRequest'.Y+lblDeliveryDateATCRequest.Height
                    ZIndex: =21

                ddDeliveryDatetoATCRequest As dropdown:
                    AllowEmptySelection: =true
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                    ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =
                    ChevronHoverFill: =AppColors.DarkGray
                    Default: =TimeValue(ThisItem.'Delivery Date To')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    Items: |-
                        =["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(255, 255, 255, 1)
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Visible: |
                        =//If(IsBlank(Radio1_2.Selected.Value),true, If(Radio1_2.Selected.Value="Visit Request", false, true))
                        true
                    Width: =cntDeliveryDateToATCRequest.Width-40
                    X: ='cntDeliveryDate&TimeFieldsATCRequest'.X+ cntDeliveryDateToATCRequest.X
                    Y: ='cntDeliveryDate&TimeATCRequest'.Y+lblDeliveryDateATCRequest.Height
                    ZIndex: =22

                rdoIncludeATCResponseDeliveryATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: ="No"
                    Font: =AppFonts.FontStyle
                    Height: =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Yes", "No"]
                    Layout: =Layout.Horizontal
                    OnChange: |
                        =
                        
                        If(
                            Self.Selected.Value = "Yes",
                           
                            Set(
                                lvID1,
                                Collect(
                                    collResponse,
                                    {
                                        ResponseID: If(
                                            galMessageATCRequest.AllItemsCount = 0,
                                            1,
                                            Last(collResponse).ResponseID + 1
                                        ),
                                        'Response Message': "Book Delivery",
                                        'Response Date Time': Now(),
                                        RequestType: "BookDelivery"
                                    }
                                )
                            )
                        );
                        
                        If(
                            Self.Selected.Value = "No", ForAll( Filter(collResponse, RequestType="BookDelivery"), Remove(collResponse, ThisRecord)))
                    PaddingBottom: =0
                    PaddingTop: =5
                    RadioBorderColor: =RGBA(32, 54, 71, 1)
                    RadioSize: =25
                    Size: =AppFonts.fontSize
                    Visible: =cntIncludeATCResponseDeliveryATCRequest.Visible
                    Width: =260
                    X: =462
                    Y: =cntIncludeATCResponseDeliveryATCRequest.Y
                    ZIndex: =23

                rdoBookReturnTypeATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: =ThisItem.'Book Return Type'
                    Font: =AppFonts.FontStyle
                    Height: =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Call Out Request","Visit Request"]
                    Layout: =Layout.Horizontal
                    PaddingBottom: =0
                    PaddingTop: =7
                    RadioBorderColor: |+
                        =//If(Self.Selected.Value="Yes", AppColors.Orange, RGBA(0,0,0,1))
                        
                        
                            
                                RGBA(0,0,0,1)  
                        
                        
                    RadioSize: =25
                    Reset: =true
                    Size: =AppFonts.fontSize
                    Width: =400
                    X: =462
                    Y: =cntBookReturnTypeATCRequest.Y+5
                    ZIndex: =24

                rdoIncludeATCResponseReturnATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: ="No"
                    Font: =AppFonts.FontStyle
                    Height: =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Yes", "No"]
                    Layout: =Layout.Horizontal
                    OnChange: |-
                        =If(
                            Self.Selected.Value = "Yes",
                            Collect(
                                collResponse,
                                {
                                    ResponseID: If(
                                        galMessageATCRequest.AllItemsCount = 0,
                                        1,
                                        Last(collResponse).ResponseID + 1
                                    ),
                                    'Response Message': "Book Return",
                                    'Response Date Time': Now(),
                                    RequestType: "BookReturn",
                                    BookID: LookUp(
                                        collBookDetails,
                                        ThisItem.BookDetailID = BookDetailID
                                    ).BookDetailID
                                }
                            )
                        );
                        
                        If(
                            Self.Selected.Value = "No" && LookUp(
                                collResponse,
                                RequestType = "BookReturn" && ThisItem.BookDetailID = BookID
                            ).BookID,
                            Remove(
                                collResponse,
                                LookUp(
                                    collResponse,
                                    RequestType = "BookReturn" && ThisItem.BookDetailID = BookID
                                )
                            )
                        )
                    OnSelect: =
                    PaddingBottom: =0
                    PaddingTop: =5
                    RadioBorderColor: =RGBA(32, 54, 71, 1)
                    RadioSize: =25
                    Size: =AppFonts.fontSize
                    Visible: =cntIncludeATCResponseReturnATCRequest.Visible
                    Width: =260
                    X: =462
                    Y: =cntIncludeATCResponseReturnATCRequest.Y
                    ZIndex: =25

                dateddReturnDateATCREquest As datepicker:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DefaultDate: =If(gvNewATCRequest=true, dateDueDateATCRequest.SelectedDate,   DateValue(ThisItem.'Return Date From'))
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Format: ="mm/dd/yyyy"
                    Height: =AppFonts.FieldHeight
                    HoverDateFill: =RGBA(205, 209, 213, 1)
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =AppColors.DarkGray
                    InputTextPlaceholder: ="MM/DD/YYYY"
                    PaddingTop: =5
                    SelectedDateFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Width: =cntReturnDateATCRequest.Width-35
                    X: ='cntInsideCallOutDate&TimeATCRequest'.X+'cntInsideCallOutDate&TimeATCRequest'.Width
                    Y: =lblReturnDateATCRequest.Height+'cntReturnDate&TimeATCRequest'.Y
                    ZIndex: =26

                ddReturnDateFromATCREquest As dropdown:
                    AllowEmptySelection: =true
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                    ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =RGBA(0, 0, 0, 0)
                    ChevronHoverFill: =AppColors.DarkGray
                    Default: =TimeValue(ThisItem.'Return Date From')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Items: |-
                        =//Sequence(25,00,1)c
                        
                        ["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(0, 0, 0, 0)
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(0, 0, 0, 0)
                    Size: =AppFonts.fontSize
                    Visible: |
                        =//If(Radio1_3.Selected.Value="Visit Request", false, true)
                        true
                    Width: =cntReturnDateFromATCRequest.Width-35
                    X: ='cntFiledsCallOutDate&TimeATCRequest'.X+cntReturnDateFromATCRequest.X
                    Y: =lblReturnDateFromATCRequest.Height+'cntReturnDate&TimeATCRequest'.Y
                    ZIndex: =27

                ddReturnDateToATCREquest As dropdown:
                    AllowEmptySelection: =true
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                    ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                    ChevronFill: =AppColors.DarkGray
                    ChevronHoverBackground: =
                    ChevronHoverFill: =AppColors.DarkGray
                    Default: =TimeValue(ThisItem.idoc_returndateto)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    Items: |-
                        =["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                    PressedColor: =AppColors.DarkGray
                    PressedFill: =RGBA(255, 255, 255, 1)
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Visible: |
                        =//If(Radio1_3.Selected.Value="Visit Request", false, true)
                        true
                    Width: =cntReturnDatetoATCRequest.Width-35
                    X: ='cntFiledsCallOutDate&TimeATCRequest'.X+cntReturnDatetoATCRequest.X
                    Y: =lblReturnDatetoATCRequest.Height+'cntReturnDate&TimeATCRequest'.Y
                    ZIndex: =28

                cntRemoveBookATCRequest As groupContainer.verticalAutoLayoutContainer:
                    Height: =40
                    LayoutAlignItems: =LayoutAlignItems.End
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: =If((CountRows(collBookDetails)=1) ,false,true)
                    Width: =Parent.Width
                    Y: |
                        =If(rdoBookReturnTypeATCRequest.Selected.Value="Visit Request",cntIncludeATCResponseReturnATCRequest.Y+cntIncludeATCResponseReturnATCRequest.Height,'cntReturnDate&TimeATCRequest'.Height+'cntReturnDate&TimeATCRequest'.Y)
                    ZIndex: =29

                    btnRemoveBookATCRequest As button:
                        BorderColor: =
                        BorderStyle: =BorderStyle.None
                        Color: =AppColors.Blue
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =35
                        HoverColor: =AppColors.Blue
                        HoverFill: =
                        OnSelect: =Remove(collBookDetails, ThisItem)
                        PaddingLeft: =0
                        PaddingRight: =0
                        PressedColor: =AppColors.Blue
                        PressedFill: =
                        Size: =AppFonts.fontSize
                        Text: ="Remove"
                        Visible: =If((CountRows(collBookDetails)=1) ,false,true)
                        Width: =80
                        ZIndex: =1

                cntAddtoWaitlistATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    Height: =If(lblErrorMessageAddtoWaitlistATCRequest.Visible=true,65,  50)
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: =If(lblErrorMessageBookATCRequest.Visible=true && lblErrorMessageBookATCRequest.Text="Book is not available, please add it to the waitlist", true, false)
                    Width: =Parent.Width
                    Y: =cntCheckOutDueDatesATCRequest.Height+cntCheckOutDueDatesATCRequest.Y
                    ZIndex: =30

                    lblAddtoWaitlistATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =Parent.Height
                        Size: =AppFonts.fontSize
                        Text: ="Do you want to add this individual to the books waiting list?"
                        Width: =460
                        ZIndex: =1

                    cntErrorMessageAddtoWaitlistATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =Parent.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =4

                        lblErrorMessageAddtoWaitlistATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =20
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Please select an option"
                            Visible: |-
                                =//If(IsBlank(Radio1.Selected.Value) && lblMainScreenFirstNameATCRequest_12.Visible=true,  lvMandatoryBookDetails,false)
                                
                                If( LookUp('Book Inventories', 'Book Title'=  cmbBookATCREquest.Selected.'Book Title').'Available Copies'=0 && IsBlank(rdoAddtoWaitlistATCRequest.Selected.Value), lvMandatoryBookDetails, false)
                            Width: =250
                            ZIndex: =2

                rdoAddtoWaitlistATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: =If(ThisItem.'Book Status' = 'Book Status (Book Requests)'.Waitlisted , "Yes", "No")
                    Height: =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Yes", "No"]
                    Layout: =Layout.Horizontal
                    OnChange: |
                        =
                        
                        If(
                            Self.Selected.Value = "No",
                           
                            Set(
                                lvID1,
                                Collect(
                                    collResponse,
                                    {
                                        ResponseID: If(
                                            galMessageATCRequest.AllItemsCount = 0,
                                            1,
                                            Last(collResponse).ResponseID + 1
                                        ),
                                        'Response Message': "Inmate chose not to be added to the waitlist.",
                                        'Response Date Time': Now(),
                                        RequestType: "Waitlist"
                                    }
                                )
                            )
                        );
                        
                        If(
                            Self.Selected.Value = "Yes", ForAll( Filter(collResponse, RequestType="Waitlist"), Remove(collResponse, ThisRecord)))
                    PaddingBottom: =0
                    PaddingTop: =5
                    RadioBorderColor: =RGBA(32, 54, 71, 1)
                    RadioSize: =25
                    Size: =13
                    Visible: =cntAddtoWaitlistATCRequest.Visible
                    Width: =260
                    X: =462
                    Y: =cntAddtoWaitlistATCRequest.Y+8
                    ZIndex: =31

                icnEraseBookDetailsATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =25
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(cmbFacilityATCRequest);
                        Reset(cmbBookATCREquest);
                        Reset(dateCheckOutATCRequest);
                        Reset(dateDueDateATCRequest);
                        Reset(rdoBookDeliveryTypeATCRequest);
                        Reset(dateDeliveryDateATCRequest);
                        Reset(ddDeliveryDateFromATCRequest);
                        Reset(ddDeliveryDatetoATCRequest);
                        Reset(rdoIncludeATCResponseDeliveryATCRequest);
                        Reset(rdoBookReturnTypeATCRequest);
                        Reset(dateddReturnDateATCREquest);
                        Reset(ddReturnDateFromATCREquest);
                        Reset(ddReturnDateToATCREquest);
                        Reset(rdoIncludeATCResponseReturnATCRequest);
                        UpdateContext({lvMandatoryBookDetails:false})
                    Visible: |-
                        =If(
                            !IsBlank(cmbFacilityATCRequest) || !IsBlank(cmbBookATCREquest) || !IsBlank(dateCheckOutATCRequest) || !IsBlank(dateDueDateATCRequest) || !IsBlank(rdoBookDeliveryTypeATCRequest) || !IsBlank(dateDeliveryDateATCRequest) || !IsBlank(ddDeliveryDateFromATCRequest) || !IsBlank(ddDeliveryDatetoATCRequest) ||  !IsBlank(rdoBookReturnTypeATCRequest) || !IsBlank(dateddReturnDateATCREquest) || !IsBlank(ddReturnDateFromATCREquest) || !IsBlank(ddReturnDateToATCREquest) ,
                            true,
                            false
                        )
                    Width: =30
                    X: =galBookDetailsATCRequest.Width-Self.Width-5
                    Y: =25
                    ZIndex: =32

                "'dateCheckIn/ExtendToATCRequest' As datepicker":
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DefaultDate: =DateValue(ThisItem.'Extended Due Date')
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Format: ="mm/dd/yyyy"
                    Height: =AppFonts.FieldHeight
                    HoverDateFill: =RGBA(205, 209, 213, 1)
                    IconBackground: =RGBA(255, 255, 255, 1)
                    IconFill: =AppColors.DarkGray
                    InputTextPlaceholder: ="MM/DD/YYYY"
                    OnChange: =
                    PaddingTop: =5
                    SelectedDateFill: =RGBA(100, 118, 132, 1)
                    Size: =AppFonts.fontSize
                    Visible: ='cntCheckIn/ExtendToATCRequest'.Visible
                    Width: =If(ATCRequest.Size=1,200, 250)
                    X: ='cntCheckIn/ExtendToATCRequest'.X+8
                    Y: =cntCheckOutDueDatesATCRequest.Y+'rdoCheckIn/ExtendToATCRequest'.Height
                    ZIndex: =34

                "'rdoCheckIn/ExtendToATCRequest' As radio":
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: ="No"
                    Font: =AppFonts.FontStyle
                    Height: =40
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Check In", "Extend To"]
                    Layout: =Layout.Horizontal
                    OnChange: =
                    PaddingBottom: =0
                    PaddingTop: =0
                    RadioBorderColor: =RGBA(32, 54, 71, 1)
                    RadioSize: =25
                    Size: =AppFonts.fontSize
                    Visible: ='cntCheckIn/ExtendToATCRequest'.Visible
                    Width: =280
                    X: ='cntCheckIn/ExtendToATCRequest'.X
                    Y: =cntCheckOutDueDatesATCRequest.Y
                    ZIndex: =35

        cntIndigentSupplyATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Start
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: |-
                =//If(Radio3.Selected.Value = "No",  DataCardValue6_3.Height+DataCardValue6_3.Y+10 +Self.PaddingBottom, TextInput1.Height+TextInput1.Y+10 +Self.PaddingBottom)
                
                'cntDescription&AttachmentATCRequest'.Height+'cntDescription&AttachmentATCRequest'.Y+10+Self.PaddingBottom
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected =3
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =7

            cntIndigentSupplyHeaderATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblIndigentSupplyATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="Indigent Supplies"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseIndigentSupplyATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(rdoOptionsIsPersonIndigentATCRequest);
                        Reset(txtDescriptionATCRequest);
                        Reset(AttachmentATCRequest);
                        
                        UpdateContext({lvMandatoryIndigentSuppy: false})
                    Visible: =If(!IsBlank(rdoOptionsIsPersonIndigentATCRequest.Selected.Value) || !IsBlank(txtDescriptionATCRequest.Text), true,false)
                    Width: =30
                    ZIndex: =2

            cntIsPersonIndigentATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =If(lblErrorMessageOptionsIsPersonIndigentATCRequest.Visible=true,  58,40)
                LayoutMinHeight: =100
                LayoutMinWidth: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)/2
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =5

                cntInsideIsPersonIndigentATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageOptionsIsPersonIndigentATCRequest.Visible=true,  58,40)
                    LayoutMinHeight: =100
                    LayoutMinWidth: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)/2
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    lblIsPersonIndigentATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        PaddingTop: =0
                        Size: =AppFonts.fontSize
                        Text: ="Is this person Indigent?"
                        Width: =250
                        ZIndex: =1

                    cntOptionsIsPersonIndigentATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =If(lblErrorMessageOptionsIsPersonIndigentATCRequest.Visible=true,  58,40)
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =Parent.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =200
                        ZIndex: =4

                        rdoOptionsIsPersonIndigentATCRequest As radio:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            Color: =RGBA(0, 0, 0, 1)
                            Default: |+
                                =If(gvNewATCRequest=false, LookUp('Indigent Supplies','ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Is this Person Indigent?')
                                
                            Font: =AppFonts.FontStyle
                            Height: =40
                            HoverColor: =RGBA(32, 54, 71, 1)
                            Items: =["Yes", "No"]
                            Layout: =Layout.Horizontal
                            PaddingBottom: =0
                            PaddingTop: =5
                            RadioBorderColor: =RGBA(32, 54, 71, 1)
                            RadioSize: =25
                            Size: =AppFonts.fontSize
                            Width: =260
                            ZIndex: =1

                        lblErrorMessageOptionsIsPersonIndigentATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =18
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Please choose a value"
                            Visible: =If(IsBlank(rdoOptionsIsPersonIndigentATCRequest.Selected.Value),  lvMandatoryIndigentSuppy)
                            Width: =250
                            ZIndex: =2

            "'cntDescription&AttachmentATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =AttachmentATCRequest.Height+cntAttachmentATCRequest.Y+40
                LayoutGap: =20
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =6

                cntDescriptionATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =Parent.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =lblErrorMessageDescriptionATCRequest.Height+lblErrorMessageDescriptionATCRequest.Y
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =1
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/2
                    ZIndex: =1

                    lblDescriptionATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =35
                        PaddingTop: =0
                        Size: =AppFonts.fontSize
                        Text: ="Description"
                        ZIndex: =1

                    txtDescriptionATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =If(gvNewATCRequest=false, LookUp('Indigent Supplies','ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').Description)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        EnableSpellCheck: =true
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =67
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        Mode: =TextMode.MultiLine
                        PaddingTop: =20
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-50
                        ZIndex: =2

                    lblErrorMessageDescriptionATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Description is required"
                        Visible: =If(rdoOptionsIsPersonIndigentATCRequest.Selected.Value="Yes" && IsBlank(txtDescriptionATCRequest.Text),lvMandatoryIndigentSuppy,false)
                        Width: =250
                        ZIndex: =3

                cntAttachmentATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =Parent.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =lblErrorMessageAttachmentATCRequest.Height+lblErrorMessageAttachmentATCRequest.Y
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    Visible: |
                        =rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No"
                    ZIndex: =2

                    AttachmentATCRequest As attachments:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        Default: = 
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayMode: =Parent.DisplayMode
                        DropTargetBorderColor: =AppColors.Grey
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =87
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(205, 209, 213, 1)
                        IsInDataCard: =true
                        ItemColor: =RGBA(0,0, 0, 1)
                        ItemFill: =RGBA(0, 0, 0, 0)
                        ItemHoverColor: =RGBA(0,0, 0, 1)
                        ItemHoverFill: =RGBA(0, 0, 0, 0)
                        Items: |-
                            =If(
                                gvNewATCRequest = false,
                                ForAll(
                                    Filter(
                                        'Indigent Supplies',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                    ).Attachment,
                                    {
                                        DisplayName: ThisRecord.Attachment.FileName,
                                        Value: ThisRecord.Attachment.Value
                                    }
                                )
                            )
                        MaxAttachments: =1
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(32, 54, 71, 1)
                        Size: =AppFonts.fontSize
                        Tooltip: =
                        Width: =400
                        X: =18
                        Y: =16
                        ZIndex: =1

                    lblErrorMessageAttachmentATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Attachment is required"
                        Visible: =If(rdoOptionsIsPersonIndigentATCRequest.Selected.Value="No" && IsEmpty(AttachmentATCRequest.Attachments),lvMandatoryIndigentSuppy)
                        Width: =250
                        ZIndex: =2

        cntCallOutATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: |
                =cntServiesCallOutATCRequest.Y+cntServiesCallOutATCRequest.Height+Self.PaddingBottom
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected =4
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =8

            cntHeaderCallOutRequestATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblHeaderCallOutRequestATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="Date of Call Out"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseCallOutRequestATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(ddServiceDateToCallOutATCRequest);
                        Reset(ddServiceDateFromCallOutATCRequest);
                        Reset(dateServiceDateCallOutATCRequest);
                          
                        
                        
                        //ForAll(Gallery4_2.AllItems, Patch(collCallOutServices, LookUp(collCallOutServices,'Call Out Type of Services'=Gallery4_2.Selected.),{'Service Name':false}));
                        Clear(collCallOutServices);
                        ClearCollect(collCallOutServices, 'Call Out Type of Services');
                        
                        Set(lvCountCallOutServices,0);
                        
                        UpdateContext({lvMandatoryCallOutRequest: false})
                    Visible: =If(!IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) || !IsBlank(ddServiceDateFromCallOutATCRequest.Selected.Value) || !IsBlank(ddServiceDateToCallOutATCRequest.Selected.Value) || lvCountCallOutServices>=1,true,false)
                    Width: =30
                    ZIndex: =2

            cntCallOutFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntServiceDateToCallOutATCRequest.Y+cntServiceDateToCallOutATCRequest.Height+5
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                lblCallOutATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="When will this call out request take place?"
                    Width: =If(ATCRequest.Size<4,Parent.Width/4, 350)
                    ZIndex: =1

                cntServiceDateCallOutATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =95
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =If(ATCRequest.Size<4,Parent.Width/2,  250)
                    ZIndex: =2

                    lblServiceDateCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Service Date"
                        ZIndex: =1

                    dateServiceDateCallOutATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: |+
                            =If(gvNewATCRequest=false, DateValue(LookUp('Call Out Requests','ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Service From Date'))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =220
                        ZIndex: =2

                    lblErrorMessageServiceDateCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Service Date is required"
                        Visible: =If(IsBlank(dateServiceDateCallOutATCRequest.SelectedDate),  lvMandatoryCallOutRequest)
                        Width: =Parent.Width
                        ZIndex: =3

                cntServiceDateFromCallOutATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =90
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =90
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =150
                    ZIndex: =3

                    lblServiceDateFromCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="From:"
                        ZIndex: =1

                    ddServiceDateFromCallOutATCRequest As dropdown:
                        AllowEmptySelection: =true
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =RGBA(0, 0, 0, 0)
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |+
                            =If(gvNewATCRequest=false, TimeValue(LookUp('Call Out Requests','ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Service From Date'))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Items: |-
                            =//Sequence(25,00,1)c
                            
                            ["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(0, 0, 0, 0)
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(0, 0, 0, 0)
                        Size: =AppFonts.fontSize
                        Width: =120
                        ZIndex: =2

                    lblErrorMessageServiceDateFromCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="From Time is required"
                        Visible: |-
                            =//If(IsBlank(Dropdown1.Selected.Value),  lvMandatoryCallOutRequest)
                            false
                        Width: =Parent.Width
                        ZIndex: =3

                cntServiceDateToCallOutATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =102
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =
                    LayoutMinHeight: =90
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: |-
                        =//(Parent.Width-Label20.Width-Container35.LayoutMinWidth)//
                        
                        145
                    ZIndex: =4

                    lblServiceDateToCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="To:"
                        ZIndex: =1

                    ddServiceDateToCallOutATCRequest As dropdown:
                        AllowEmptySelection: =true
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |+
                            =If(gvNewATCRequest=false, TimeValue(LookUp('Call Out Requests','ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Service To Date'))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        Items: |-
                            =["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =120
                        ZIndex: =2

                    lblErrorMessageServiceDateToCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+1
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            =//If(IsBlank(Dropdown2.Selected.Value),  "To Time is required",  If(TimeValue(Dropdown2.Selected.Value) <  TimeValue(Dropdown1.Selected.Value),"To time should be greater than From Time"))
                            "To time should be greater than From Time"
                        Visible: |+
                            =If(IsBlank(ddServiceDateToCallOutATCRequest.Selected.Value),  false, If(TimeValue(ddServiceDateToCallOutATCRequest.Selected.Value) <  TimeValue(ddServiceDateFromCallOutATCRequest.Selected.Value),true))
                            
                        Width: =Parent.Width
                        ZIndex: =3

            cntServiesCallOutATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: ='cntServices&ErrorMessageCallOutATCRequest'.Height+'cntServices&ErrorMessageCallOutATCRequest'.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =4

                lblServieBeingRequestedATCREquest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="What is type of service being requested?"
                    Width: =350
                    ZIndex: =1

                "'cntServices&ErrorMessageCallOutATCRequest' As groupContainer.verticalAutoLayoutContainer":
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageServiesCallOutATCRequest.Visible=true,lblErrorMessageServiesCallOutATCRequest.Height+lblErrorMessageServiesCallOutATCRequest.Y,galServiesCallOutATCRequest.Height+galServiesCallOutATCRequest.Y)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =If(lblErrorMessageServiesCallOutATCRequest.Visible=true,lblErrorMessageServiesCallOutATCRequest.Height+lblErrorMessageServiesCallOutATCRequest.Y,galServiesCallOutATCRequest.Height+galServiesCallOutATCRequest.Y)
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width-lblServieBeingRequestedATCREquest.Width
                    ZIndex: =3

                    galServiesCallOutATCRequest As gallery.galleryVertical:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(32, 54, 71, 1)
                        BorderStyle: =BorderStyle.None
                        DelayItemLoading: =true
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =RoundUp(galServiesCallOutATCRequest.AllItemsCount/If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 1, ATCRequest.Size=3, 2, ATCRequest.Size>3,3)),0.5) * (Self.TemplateHeight + Self.TemplatePadding ) 
                        Items: =collCallOutServices
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =200
                        LayoutMinWidth: =Parent.Width
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplateFill: =RGBA(255, 255, 255, 1)
                        TemplatePadding: =0
                        TemplateSize: =40
                        Width: =Parent.Width
                        WrapCount: =If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 1, ATCRequest.Size=3, 2, ATCRequest.Size>3,3))
                        ZIndex: =1

                        cbxServiesCallOutATCRequest As checkbox:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                            CheckboxSize: =25
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =If(!IsBlank(LookUp(collSelectedCallOutServices, 'Call Out Service ID'.'Call Out Type of Service'  =ThisItem.'Call Out Type of Service').'Call Out Service ID'.'Service Name'),  true, false )
                            Font: =AppFonts.FontStyle
                            Height: =40
                            HoverColor: =RGBA(32, 54, 71, 1)
                            OnCheck: |-
                                =//UpdateContext({ lvCountCallOutServices:lvCountCallOutServices+1})
                                Set(lvCountCallOutServices,lvCountCallOutServices+1)
                            OnSelect: =Select(Parent)
                            OnUncheck: |-
                                =//UpdateContext({lvCountCallOutServices:lvCountCallOutServices-1})
                                Set(lvCountCallOutServices,lvCountCallOutServices-1)
                            PaddingLeft: =5
                            Size: =AppFonts.fontSize
                            Text: =ThisItem.'Service Name'
                            Width: =Parent.TemplateWidth
                            ZIndex: =1

                    lblErrorMessageServiesCallOutATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =12
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Type of services is required"
                        Visible: =If(lvCountCallOutServices=0,  lvMandatoryCallOutRequest)
                        Width: =Parent.Width
                        ZIndex: =2

        cntPacketRequestPrintButtonATCRequest As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Start
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            FillPortions: =0
            Height: =65
            LayoutGap: =20
            LayoutJustifyContent: =LayoutJustifyContent.End
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingTop: =20
            Visible: =gvTabSelected =1
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =9

            btnPrintDocumnetOnly As button:
                BorderStyle: =BorderStyle.None
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =AppColors.DarkBlue
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Height: =35
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =AppColors.DarkBlue
                OnSelect: =
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(Self.Fill,50%)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =AppFonts.fontSize
                Text: ="Print Document Only"
                Width: =190
                ZIndex: =3

        cntVisitRequestATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: =cntVisitServicesATCRequest.Y+cntVisitServicesATCRequest.Height+Self.PaddingBottom
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutMinHeight: =500
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected = 5
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =10

            cntHeaderandEraseButtonATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblDateOfVisitATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="Date of Visit"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseVisitATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(dateServiceDateVisitATCRequest);
                        Reset(rdoIncludeATCResponseVisitATCRequest);
                        Reset(ddServiceDateFromATCRequest);
                        Reset(ddServiceDateToATCRequest);
                        Clear(collVisitServices);
                        ClearCollect(collVisitServices, 'Visit Type of Services');
                        Set(lvCountVisitServices,0);
                        UpdateContext({lvMandatoryVistrequest:false});
                        ForAll(Filter(galVisitServiceNamesATCRequest.AllItems, cbxVisitServiceNamesATCRequest.Value=true), lvCountVisitServices=lvCountVisitServices+1)
                    Visible: = If(!IsBlank(dateServiceDateVisitATCRequest.SelectedDate) || !IsBlank(rdoIncludeATCResponseVisitATCRequest.Selected.Value)  || !IsBlank(ddServiceDateToATCRequest) || !IsBlank(ddServiceDateFromATCRequest) ||  lvCountVisitServices>=1, true,false)
                    Width: =30
                    ZIndex: =2

            cntVisitFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =If(lblErrorMessageServiceDateToATCRequest.Visible=true||lblErrorMessageServiceDateFromATCRequest.Visible=true ||lblErrorMessageServiceDateVisitATCRequest.Visible=true,105,90)
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                lblVisitATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="When will this visit request take place?"
                    Width: =460
                    ZIndex: =1

                cntServiceDateVisitATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageServiceDateVisitATCRequest.Visible, lblErrorMessageServiceDateVisitATCRequest.Height+lblErrorMessageServiceDateVisitATCRequest.Y, 80)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =If(lblErrorMessageServiceDateVisitATCRequest.Visible=true,lblErrorMessageServiceDateVisitATCRequest.Height+lblErrorMessageServiceDateVisitATCRequest.Y+10, 95)
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =If(ATCRequest.Size<4,Parent.Width/2,  250)
                    ZIndex: =2

                    lblServiceDateVisitATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Service Date"
                        ZIndex: =1

                    dateServiceDateVisitATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: |+
                            =If(gvNewATCRequest=false, DateValue(LookUp('Visit Requests' ,'ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Visit Date From' ))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: |
                            =AppFonts.fontSize
                        Width: =220
                        ZIndex: =2

                    lblErrorMessageServiceDateVisitATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Service Date is required"
                        Visible: =If(IsBlank(dateServiceDateVisitATCRequest.SelectedDate),lvMandatoryVistrequest)
                        Width: =Parent.Width
                        ZIndex: =3

                cntServiceDateFromATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageServiceDateToATCRequest.Visible=true, lblErrorMessageServiceDateToATCRequest.Height+lblErrorMessageServiceDateToATCRequest.Y, 80)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =If(lblErrorMessageServiceDateFromATCRequest.Visible,lblErrorMessageServiceDateFromATCRequest.Height+lblErrorMessageServiceDateFromATCRequest.Y, 80)
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =150
                    ZIndex: =3

                    lblServiceDateFromATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="From:"
                        ZIndex: =1

                    ddServiceDateFromATCRequest As dropdown:
                        AllowEmptySelection: =true
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =RGBA(0, 0, 0, 0)
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |+
                            =If(gvNewATCRequest=false,TimeValue(LookUp('Visit Requests' ,'ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Visit Date From' ))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Items: |-
                            =//Sequence(25,00,1)c
                            
                            ["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(0, 0, 0, 0)
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(0, 0, 0, 0)
                        Size: =AppFonts.fontSize
                        Width: =120
                        ZIndex: =2

                    lblErrorMessageServiceDateFromATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="From Time is required"
                        Visible: |-
                            =//If(IsBlank(Dropdown1.Selected.Value),  lvMandatoryCallOutRequest)
                            false
                        Width: =Parent.Width
                        ZIndex: =3

                cntServiceDateToATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    FillPortions: =0
                    Height: =If(lblErrorMessageServiceDateToATCRequest.Visible=true, lblErrorMessageServiceDateToATCRequest.Height+lblErrorMessageServiceDateToATCRequest.Y, 80)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =
                    LayoutMinHeight: =If(lblErrorMessageServiceDateToATCRequest.Visible, lblErrorMessageServiceDateToATCRequest.Height+lblErrorMessageServiceDateToATCRequest.Y, 80)
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: |-
                        =//(Parent.Width-Label20.Width-Container35.LayoutMinWidth)//
                        
                        145
                    ZIndex: =4

                    lblServiceDateToATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="To:"
                        ZIndex: =1

                    ddServiceDateToATCRequest As dropdown:
                        AllowEmptySelection: =true
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |+
                            =If(gvNewATCRequest=false,TimeValue(LookUp('Visit Requests' ,'ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'Visit Date To'))
                            
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        Items: |-
                            =["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =120
                        ZIndex: =2

                    lblErrorMessageServiceDateToATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+1
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            =//If(IsBlank(Dropdown2_1.Selected.Value),  "To Time is required",  If(TimeValue(Dropdown2_1.Selected.Value) <  TimeValue(Dropdown1_1.Selected.Value),"To time should be greater than From Time"))
                            "To time should be greater than From Time"
                        Visible: |
                            =If(IsBlank(ddServiceDateToATCRequest.Selected.Value),  false, If(TimeValue(ddServiceDateToATCRequest.Selected.Value) <  TimeValue(ddServiceDateFromATCRequest.Selected.Value),true))
                        Width: =Parent.Width
                        ZIndex: =3

            cntIncludeATCResponseVisitATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =35
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =4

                lblIncludeATCResponseVisitATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="Do you want to include an ATC response with this request?"
                    Width: =450
                    ZIndex: =1

                rdoIncludeATCResponseVisitATCRequest As radio:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(0, 0, 0, 1)
                    Default: |+
                        =If(gvNewATCRequest=false, LookUp('Visit Requests' ,'ATC Request Id'.'ATC Request'=gvEditATCRequest.'ATC Request').'include an ATC response with this request?')
                        
                    Font: =AppFonts.FontStyle
                    Height: =Parent.Height
                    HoverColor: =RGBA(32, 54, 71, 1)
                    Items: =["Yes", "No"]
                    Layout: =Layout.Horizontal
                    OnChange: |+
                        =If(
                            Self.Selected.Value = "Yes",
                           
                            Set(
                                lvID3,
                                Collect(
                                    collResponse,
                                    {
                                        ResponseID: If(
                                            galMessageATCRequest.AllItemsCount = 0,
                                            1,
                                            Last(collResponse).ResponseID + 1
                                        ),
                                        'Response Message': "visit Reset",
                                        'Response Date Time': Now(),
                                        RequestType: "VisitRequest"
                                    }
                                )
                            )
                        );
                        
                        
                        If(
                            Self.Selected.Value = "No", ForAll( Filter(collResponse, RequestType= "VisitRequest"), Remove(collResponse, ThisRecord)))
                        
                        
                    PaddingBottom: =0
                    PaddingTop: =5
                    RadioBorderColor: =RGBA(32, 54, 71, 1)
                    RadioSize: =25
                    Size: =AppFonts.fontSize
                    Width: =260
                    ZIndex: =2

            cntVisitServicesATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntVisitServiceNamesATCRequest.Height+cntVisitServiceNamesATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =5

                lblVisitServicesATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="What is type of service being requested?"
                    Width: =450
                    ZIndex: =1

                cntVisitServiceNamesATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageVisitServiceNamesATCRequest.Visible=true, lblErrorMessageVisitServiceNamesATCRequest.Height+lblErrorMessageVisitServiceNamesATCRequest.Y, galVisitServiceNamesATCRequest.Height)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =If(lblErrorMessageVisitServiceNamesATCRequest.Visible=true,lblErrorMessageVisitServiceNamesATCRequest.Height+lblErrorMessageVisitServiceNamesATCRequest.Y, galVisitServiceNamesATCRequest.Height+galVisitServiceNamesATCRequest.Y)
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width-lblVisitServicesATCRequest.Width
                    ZIndex: =3

                    galVisitServiceNamesATCRequest As gallery.galleryVertical:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(32, 54, 71, 1)
                        BorderStyle: =BorderStyle.None
                        DelayItemLoading: =true
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =RoundUp(galVisitServiceNamesATCRequest.AllItemsCount/If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 1, ATCRequest.Size=3, 2, ATCRequest.Size>3,3)),0.5) * (Self.TemplateHeight + Self.TemplatePadding +4) 
                        Items: =collVisitServices
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =200
                        LayoutMinWidth: =Parent.Width
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplateFill: =RGBA(255, 255, 255, 1)
                        TemplatePadding: =0
                        TemplateSize: =40
                        Width: =Parent.Width
                        WrapCount: =If(ATCRequest.Size = 1, 1, If(ATCRequest.Size=2, 1, ATCRequest.Size=3, 2, ATCRequest.Size>3,3))
                        ZIndex: =1

                        cbxVisitServiceNamesATCRequest As checkbox:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                            CheckboxSize: =25
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =If(!IsBlank(LookUp(collSelectedCallOutServices, 'Visit Service ID'.'Visit Type of Service'  =ThisItem.'Visit Type of Service').'Visit Service ID'.'Service Name'),  true, false )
                            Font: =AppFonts.FontStyle
                            Height: =40
                            HoverColor: =RGBA(32, 54, 71, 1)
                            OnCheck: =Set(lvCountVisitServices,lvCountVisitServices+1)
                            OnSelect: =Select(Parent)
                            OnUncheck: =Set(lvCountVisitServices,lvCountVisitServices-1)
                            PaddingLeft: =5
                            Size: =AppFonts.fontSize
                            Text: =ThisItem.'Service Name'
                            Width: =Parent.TemplateWidth
                            ZIndex: =1

                    lblErrorMessageVisitServiceNamesATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =15
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Type of service is required"
                        Visible: =If(lvCountVisitServices=0,lvMandatoryVistrequest)
                        Width: =Parent.Width
                        ZIndex: =2

        cntLegalMailATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: =cntRegisteredAddressATCRequest.Y+cntRegisteredAddressATCRequest.Height+10+Self.PaddingBottom
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =010
            LayoutMinHeight: =200
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected =6
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =11

            cntLegalMailHeaderATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblLegalMailHeaderATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="Mail Information"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseLegalMailATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |
                        =Reset(dateMailSentOnATCRequest);
                        Reset(dateReceivedOnATCRequest);
                        Reset(txtCaseNumberATCRequest);
                        Reset(txtTypeOfMailATCRequest);
                        Reset(cmbRegisteredAddressATCRequest);
                        Reset(txtRegisteredAddressATCRequest);
                        Reset(cbxRegisteredAddressATCRequest);
                        UpdateContext({lvMandatoryLegalMail:false})
                    Visible: =If(!IsBlank(txtTypeOfMailATCRequest.Text) || !IsBlank(txtCaseNumberATCRequest.Text) ||!IsBlank(dateReceivedOnATCRequest.SelectedDate) || !IsBlank(dateMailSentOnATCRequest.SelectedDate) || If(cbxRegisteredAddressATCRequest.Value=false, !IsBlank( cmbRegisteredAddressATCRequest.Selected.'Combined Address'), !IsBlank(txtRegisteredAddressATCRequest.Text)),true,false)
                    Width: =30
                    ZIndex: =2

            cntLegalMailFiledsATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntMailSentOnATCRequest.Y+cntMailSentOnATCRequest.Height
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                cntTypeOfMailATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =1

                    lblTypeOfMailATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Type of Mail:"
                        ZIndex: =1

                    txtTypeOfMailATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Type Of Mail')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =3

                    lblErrorMessageTypeOfMailATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            = "Service Date is required"
                                
                        Visible: |
                            =If(IsBlank(txtTypeOfMailATCRequest.Text),lvMandatoryLegalMail)
                        Width: =Parent.Width
                        ZIndex: =4

                cntCaseNumberATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    ContentLanguage: ="Case No."
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =2

                    lblCaseNumberATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Case Number:"
                        ZIndex: =1

                    txtCaseNumberATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Case Number')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageCaseNumberATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Case Number is required"
                        Visible: =If(IsBlank(txtCaseNumberATCRequest.Text),lvMandatoryLegalMail)
                        Width: =Parent.Width
                        ZIndex: =3

                cntMailReceivedOnATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =3

                    lblReceivedOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Mail Received On:"
                        Width: =160
                        ZIndex: =1

                    dateReceivedOnATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: = If(gvNewATCRequest=false, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Mail Received On Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageReceivedOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Mail Received On is required"
                        Visible: =If(IsBlank(dateReceivedOnATCRequest.SelectedDate),lvMandatoryLegalMail)
                        Width: =Parent.Width
                        ZIndex: =3

                cntMailSentOnATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =105
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =105
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =4

                    lblMailSentOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Mail Sent On:"
                        ZIndex: =1

                    dateMailSentOnATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: = If(gvNewATCRequest=false, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Mail Sent on Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageMailSentOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+2
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If(IsBlank(dateMailSentOnATCRequest.SelectedDate),  "Mail Sent On is required",  If(dateMailSentOnATCRequest.SelectedDate<  dateReceivedOnATCRequest.SelectedDate,"Mail Sent On Should be greater than Mail Received On"))    
                        Visible: =If(IsBlank(dateMailSentOnATCRequest.SelectedDate),lvMandatoryLegalMail,If(dateMailSentOnATCRequest.SelectedDate<  dateReceivedOnATCRequest.SelectedDate,true))
                        Width: =Parent.Width
                        ZIndex: =3

            cntRegisteredAddressATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntInsideRegisteredAddressATCRequest.Height+cntInsideRegisteredAddressATCRequest.Y                    
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =4

                lblRegisteredAddressATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    PaddingLeft: =8
                    Size: =AppFonts.fontSize
                    Text: |-
                        ="Registered Address:"
                    Width: =200
                    ZIndex: =1

                cntInsideRegisteredAddressATCRequest As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: |-
                        =//cbxSubmitDateATCRequest_2.Height+cbxSubmitDateATCRequest_2.Y
                        If(lblErrorMessageRegisteredAddressATCRequest.Visible=true, lblErrorMessageRegisteredAddressATCRequest.Height+lblErrorMessageRegisteredAddressATCRequest.Y, cbxRegisteredAddressATCRequest.Height+cbxRegisteredAddressATCRequest.Y+3)
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =2

                    btnAddNewAddressRegisteredAddressATCRequest As button:
                        BorderStyle: =BorderStyle.None
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        Font: =AppFonts.FontStyle
                        Height: =25
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =
                        OnSelect: |
                            =UpdateContext({lvAddNewAddress: !lvAddNewAddress});
                            
                            Reset(txtAddress1ATCRequest);
                            Reset(txtAddressATCRequest);
                            Reset(txtCityATCRequest);
                            Reset(txtStateATCrequest);
                            Reset(txtZipATCrequest);
                        PaddingLeft: =2
                        PressedBorderColor: =
                        PressedColor: =RGBA(0, 0, 0, 1)
                        PressedFill: =
                        Size: =AppFonts.fontSize
                        Text: ="+ Add New Address"
                        Visible: =If(cbxRegisteredAddressATCRequest.Value=true, false, true)
                        Width: =155
                        X: =1
                        Y: =40
                        ZIndex: =1

                    txtRegisteredAddressATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Temporary Address')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =33
                        HintText: ="Please type the address here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Visible: =cbxRegisteredAddressATCRequest.Value=true
                        Width: =420
                        X: =1
                        Y: =1
                        ZIndex: =2

                    cbxRegisteredAddressATCRequest As checkbox:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        BorderStyle: =BorderStyle.None
                        CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                        CheckboxSize: =20
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=true, false, If(gvNewATCRequest=false,If(!IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'), false, true)))
                        Font: =AppFonts.FontStyle
                        Height: =22
                        HoverColor: =RGBA(32, 54, 71, 1)
                        Size: =11
                        Text: ="Enable Text Box"
                        Width: =214
                        X: =207
                        Y: =40
                        ZIndex: =3

                    cmbRegisteredAddressATCRequest As combobox:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        ChevronBackground: =RGBA(0, 0, 0, 0)
                        ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                        ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                        ChevronFill: =AppColors.DarkGray
                        ChevronHoverBackground: =
                        ChevronHoverFill: =AppColors.DarkGray
                        Default: |-
                            =If(gvNewATCRequest=false,   LookUp('Legal Mails', 'ATC Request ID'.'ATC Request'= gvEditATCRequest.'ATC Request').'Address Details ID')
                            
                            //If(gvNewATCRequest=false, LookUp(collAddressDetails, lvAddress='Address Details').'Combined Address')
                            
                            
                              
                              
                            
                            
                            
                              
                              
                        DefaultSelectedItems: |-
                            =If(
                                !IsBlank(gvaddress),
                                LookUp(
                                    collAddressDetails,
                                    gvaddress.'Address Details' = 'Address Details'
                                ),
                                If(
                                    gvNewATCRequest = false,
                                    LookUp(
                                        collAddressDetails,
                                        'Address Details'= gvExistingAddress.'Address Details'
                                )
                            ))
                            //If(gvNewATCRequest=false, LookUp(collAddressDetails, lvAddress='Address Details').'Combined Address')
                            //If(gvNewATCRequest=false,lvAddress)
                            //If(gvNewATCRequest = false,LookUp('Legal Mails', 'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' ).'Address Details ID' )
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        DisplayFields: =["Combined Address"]
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        InputTextPlaceholder: ="Select address"
                        Items: =collAddressDetails
                        PressedColor: =AppColors.DarkGray
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["Combined Address"]
                        SearchItems: =Search(collAddressDetails,cmbRegisteredAddressATCRequest.SearchText,"Combined Address")
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(255, 255, 255, 1)
                        SelectMultiple: =false
                        Size: =AppFonts.fontSize
                        Visible: =cbxRegisteredAddressATCRequest.Value=false
                        Width: =420
                        X: =1
                        Y: =1
                        ZIndex: =4

                    lblErrorMessageRegisteredAddressATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            =  If(
                                IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address')&& IsBlank(cmbRegisteredAddressATCRequest.SearchText) ,
                                "Registered Address is required",
                                If(
                                    !(cmbRegisteredAddressATCRequest.SearchText in cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                                    "Result Not Found"  
                                )
                            )   
                        Visible: |+
                            = /* If(
                                IsBlank(cbxFacilityATCRequest_2.Selected.'Address 1')&& IsBlank(cbxFacilityATCRequest_2.SearchText) ,
                                "Registered Address is required",
                                If(
                                    !(cbxFacilityATCRequest_2.SearchText in cbxFacilityATCRequest_2.Selected.'Address 1'),
                                    "Result Not Found"  
                                )
                            )*/   
                            
                            If(cbxRegisteredAddressATCRequest.Value=false,If(IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address') && IsBlank(cmbRegisteredAddressATCRequest.SearchText),lvMandatoryLegalMail, If(
                                    !(cmbRegisteredAddressATCRequest.SearchText in cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                                    true
                                ))) ||If(cbxRegisteredAddressATCRequest.Value=true,If(IsBlank(txtRegisteredAddressATCRequest.Text),lvMandatoryLegalMail))
                            
                            
                        Width: =Parent.Width
                        Y: =65
                        ZIndex: =5

        cntEFileRequestATCRequest As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =2
            FillPortions: =0
            Height: |+
                ='cntCourt&DescriptionATCRequest'.Y+'cntCourt&DescriptionATCRequest'.Height+10+Self.PaddingBottom
                
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =5
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            Visible: =gvTabSelected = 7
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =12

            cntHeaderEFileRequestATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblHeaderEFileRequestATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="E-File Request"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseEFileRequestATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(txtTypeOfFilingATCRequest);
                        Reset(txtCaseNumberEFileATCRequest);
                        Reset(dateFilingReceivedOnATCRequest);
                        Reset(dateEFiledOnATCRequest);
                        Reset(cmbCourtATCRequest);
                        Reset(txtCourtATCRequest);
                        Reset(txtEFileDescriptionATCRequest);
                        Reset(cbxCourtATCRequest);
                        UpdateContext({lvMandatoryEFileRequest:false})
                    Visible: =If(!IsBlank(txtTypeOfFilingATCRequest.Text) || !IsBlank(txtCaseNumberEFileATCRequest.Text) ||!IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) || !IsBlank(dateEFiledOnATCRequest.SelectedDate) || If(cbxCourtATCRequest.Value=false, !IsBlank( cmbCourtATCRequest.Selected.'Court Name'), !IsBlank(txtCourtATCRequest.Text)) || !IsBlank(txtEFileDescriptionATCRequest.Text),true,false)
                    Width: =30
                    ZIndex: =2

            cntEFileRequestFieldsATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntEFiledOnATCRequest.Y+cntEFiledOnATCRequest.Height
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                cntTypeOfFilingATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =1

                    lblTypeOfFilingATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Type Of Filing:"
                        ZIndex: =1

                    txtTypeOfFilingATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'Type Of Filing')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageTypeOfFilingATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Type Of Filing is required"
                        Visible: =If(IsBlank(txtTypeOfFilingATCRequest.Text),lvMandatoryEFileRequest)
                        Width: =Parent.Width
                        ZIndex: =3

                cntCaseNumberEFileATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =2

                    lblCaseNumberEFileATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Case Number:"
                        ZIndex: =1

                    txtCaseNumberEFileATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'Case Number')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageCaseNumberEFileATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Case Number is required"
                        Visible: =If(IsBlank(txtCaseNumberEFileATCRequest.Text),lvMandatoryEFileRequest)
                        Width: =Parent.Width
                        ZIndex: =3

                cntFilingReceivedOnATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =3

                    lblFilingReceivedOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Filing Received On:"
                        Width: =200
                        ZIndex: =1

                    dateFilingReceivedOnATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'File Received On Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageFilingReceivedOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Filing Received On is required"
                        Visible: =If(IsBlank(dateFilingReceivedOnATCRequest.SelectedDate),lvMandatoryEFileRequest)
                        Width: =Parent.Width
                        ZIndex: =3

                cntEFiledOnATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =103
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =4

                    lblEFiledOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="E-Filed On:"
                        ZIndex: =1

                    dateEFiledOnATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'E Filed On')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageEFiledOnATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+3
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If(IsBlank(dateEFiledOnATCRequest.SelectedDate), "E-Filed On is required",  If(dateEFiledOnATCRequest.SelectedDate<  dateFilingReceivedOnATCRequest.SelectedDate,"E-Filed On Should be greater than Filing Received On"))       
                        Visible: =If(IsBlank(dateEFiledOnATCRequest.SelectedDate),lvMandatoryEFileRequest,If(dateEFiledOnATCRequest.SelectedDate<  dateFilingReceivedOnATCRequest.SelectedDate,true))
                        Width: =Parent.Width
                        ZIndex: =3

            "'cntCourt&DescriptionATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: |-
                    =//Container68.Y+Container68.Height
                    If(lblErrorMessageEFileDescriptionATCRequest.Visible=true || lblErrorMessageCourtATCRequest.Visible=true,125,  105)
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =4

                cntCourtATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =cntInsideCourtATCRequest.Y+cntInsideCourtATCRequest.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =cntInsideCourtATCRequest.Y+cntInsideCourtATCRequest.Height
                    LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/2-60
                    ZIndex: =1

                    lblCourtATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Court:"
                        Width: =200
                        ZIndex: =1

                    cntInsideCourtATCRequest As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: |+
                            =If(lblErrorMessageCourtATCRequest.Visible=true,lblErrorMessageCourtATCRequest.Height+lblErrorMessageCourtATCRequest.Y,  cbxCourtATCRequest.Height+cbxCourtATCRequest.Y+3)
                            
                        LayoutMinHeight: =100
                        LayoutMinWidth: =Parent.Width
                        ZIndex: =4

                        brnCourtATCRequest As button:
                            BorderStyle: =BorderStyle.None
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Fill: =RGBA(0, 0, 0, 0)
                            Font: =AppFonts.FontStyle
                            Height: =25
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =
                            OnSelect: |-
                                =UpdateContext({lvAddNewCourt: !lvAddNewCourt});
                                Reset(txtAddNewCourtATCRequest);
                            PaddingLeft: =2
                            PressedBorderColor: =
                            PressedColor: =RGBA(0, 0, 0, 1)
                            PressedFill: =
                            Size: =AppFonts.fontSize
                            Text: ="+ Add New Court"
                            Visible: =If(cbxCourtATCRequest.Value=true, false, true)
                            Width: =135
                            X: =1
                            Y: =40
                            ZIndex: =1

                        txtCourtATCRequest As text:
                            BorderColor: =AppColors.Grey
                            Color: =RGBA(0, 0, 0, 1)
                            Default: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'Temporary Court Name')
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Height: =33
                            HintText: ="Please type the address here"
                            HoverBorderColor: =AppColors.Grey
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =AppFonts.fontSize
                            Visible: =cbxCourtATCRequest.Value=true
                            Width: =420
                            X: =1
                            Y: =1
                            ZIndex: =2

                        cbxCourtATCRequest As checkbox:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 1)
                            Default: |-
                                =//If(gvNewATCRequest=true, false,   If(gvNewATCRequest=false,If(IsBlank(cbxFacilityATCRequest_1.Selected.'Court Name'), false, true)))
                                
                                 If(gvNewATCRequest=true, false, If(gvNewATCRequest=false,If(!IsBlank(cmbCourtATCRequest.Selected.'Court Name'), false, true)))
                            Font: =AppFonts.FontStyle
                            Height: =22
                            HoverColor: =RGBA(32, 54, 71, 1)
                            Size: =AppFonts.fontSize
                            Text: ="Enable Text Box"
                            X: =271
                            Y: =40
                            ZIndex: =3

                        cmbCourtATCRequest As combobox:
                            BorderColor: =AppColors.Grey
                            BorderThickness: =1
                            ChevronBackground: =RGBA(0, 0, 0, 0)
                            ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                            ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                            ChevronFill: =AppColors.DarkGray
                            ChevronHoverBackground: =
                            ChevronHoverFill: =AppColors.DarkGray
                            DefaultSelectedItems: |-
                                =If(!IsBlank(gvCourt) , gvCourt,    If(
                                    gvNewATCRequest = false,
                                    LookUp('E-File Requests', 'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').'Court Id'
                                )
                                )
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            DisplayFields: =["idoc_name"]
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.FieldHeight
                            HoverBorderColor: =AppColors.Grey
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            InputTextPlaceholder: ="Select address"
                            Items: =collCourt
                            PressedColor: =AppColors.DarkGray
                            PressedFill: =RGBA(255, 255, 255, 1)
                            SearchFields: =["idoc_name"]
                            SearchItems: =Search(collCourt,cmbCourtATCRequest.SearchText,"idoc_name")
                            SelectionColor: =RGBA(0, 0, 0, 1)
                            SelectionFill: =RGBA(255, 255, 255, 1)
                            SelectMultiple: =false
                            Size: =AppFonts.fontSize
                            Visible: =cbxCourtATCRequest.Value=false
                            Width: =420
                            X: =1
                            Y: =1
                            ZIndex: =4

                        lblErrorMessageCourtATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =0
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: |-
                                =  If(
                                    IsBlank(cmbCourtATCRequest.Selected.'Court Name')&& IsBlank(cmbCourtATCRequest.SearchText) ,
                                    "Registered Address is required",
                                    If(
                                        !(cmbCourtATCRequest.SearchText in cmbCourtATCRequest.Selected.'Court Name'),
                                        "Result Not Found"  
                                    )
                                )   
                            Visible: |-
                                =/*If(cbxSubmitDateATCRequest_2.Value=false,If(IsBlank(cbxFacilityATCRequest_2.Selected.'Address 1') && IsBlank(cbxFacilityATCRequest_2.SearchText),lvMandatoryLegalMail, If(
                                        !(cbxFacilityATCRequest_2.SearchText in cbxFacilityATCRequest_2.Selected.'Address 1'),
                                        true
                                    ))) ||If(cbxSubmitDateATCRequest_2.Value=true,If(IsBlank(TextInput4_2.Text),lvMandatoryLegalMail))*/
                                
                                
                                
                                If(cbxCourtATCRequest.Value=false,If(IsBlank(cmbCourtATCRequest.Selected.'Court Name') && IsBlank(cmbCourtATCRequest.SearchText),lvMandatoryEFileRequest, If(
                                        !(cmbCourtATCRequest.SearchText in cmbCourtATCRequest.Selected.'Court Name'),
                                        true
                                    ))) ||If(cbxCourtATCRequest.Value=true,If(IsBlank(txtCourtATCRequest.Text),lvMandatoryEFileRequest))
                            Width: =Parent.Width
                            Y: =62
                            ZIndex: =5

                cntEFileDescriptionATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If(lblErrorMessageEFileDescriptionATCRequest.Visible=true ,lblErrorMessageEFileDescriptionATCRequest.Height+lblErrorMessageEFileDescriptionATCRequest.Y, txtEFileDescriptionATCRequest.Height+txtEFileDescriptionATCRequest.Y+1)
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =txtEFileDescriptionATCRequest.Height+txtEFileDescriptionATCRequest.Y+20
                    LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/2
                    ZIndex: =2

                    lblEFileDescriptionATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Description "
                        Width: =200
                        ZIndex: =1

                    txtEFileDescriptionATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: = If(gvNewATCRequest=false, LookUp('E-File Requests',   'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request').Description)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =60
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =420
                        ZIndex: =2

                    lblErrorMessageEFileDescriptionATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Description is required"
                        Visible: |
                            =//If(IsBlank(TextInput6.Text),lvMandatoryEFileRequest)
                            
                            false
                        Width: =Parent.Width
                        ZIndex: =3

        cntOtherATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =AppColors.LightGrayForTabBorders
            BorderThickness: =1
            FillPortions: =0
            Height: =cntDescriptionOtherATCRequest.Height+cntDescriptionOtherATCRequest.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =15
            RadiusBottomLeft: =
            RadiusBottomRight: =
            RadiusTopRight: =
            Visible: =gvTabSelected = 8
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =13

            cntOtherHeaderATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =1

                lblOtherATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    PaddingBottom: =0
                    Size: =AppFonts.subTitleFontSize
                    Text: ="Other Request"
                    Underline: =true
                    Width: =250
                    ZIndex: =1

                icnEraseOtherATCRequest As icon.Erase:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(32, 54, 71, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =Parent.Height-15
                    Icon: =Icon.Erase
                    OnSelect: |-
                        =Reset(txtDescriptionOtherATCRequest);
                        Reset(dateDenailDateOtherATCRequest);
                        Reset(dateRequestDateOtherATCRequest);
                        UpdateContext({lvMandatoryOtherTab:false});
                        If(
                            IsBlank(txtDescriptionOtherATCRequest.Text), ForAll( Filter(collResponse, RequestType="Other"), Remove(collResponse, ThisRecord)))
                    Visible: =If(!IsBlank(txtDescriptionOtherATCRequest.Text) || !IsBlank(dateDenailDateOtherATCRequest.SelectedDate) ||!IsBlank(dateRequestDateOtherATCRequest.SelectedDate) ,true,false)
                    Width: =30
                    ZIndex: =2

            cntOtherFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =cntDenailDateOtherATCRequest.Height+cntDenailDateOtherATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =
                RadiusBottomRight: =
                RadiusTopLeft: =
                RadiusTopRight: =
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =2

                cntRequestDateOtherATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =1

                    lblRequestDateOtherATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Request Date:"
                        Width: =200
                        ZIndex: =1

                    dateRequestDateOtherATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: = If(gvNewATCRequest=false, LookUp( 'Other Requests', gvEditATCRequest.'ATC Request'='ATC Request ID'.'ATC Request').'Request Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageRequestDateOtherATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Filing Received On is required"
                        Visible: =If(IsBlank(dateRequestDateOtherATCRequest.SelectedDate),lvMandatoryOtherTab)
                        Width: =Parent.Width
                        ZIndex: =3

                cntDenailDateOtherATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =103
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width/4
                    ZIndex: =2

                    lblDenailDateOtherATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Denial Date:"
                        ZIndex: =1

                    dateDenailDateOtherATCRequest As datepicker:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =1
                        CalendarHeaderFill: =RGBA(100, 118, 132, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DefaultDate: |
                            = If(gvNewATCRequest=false, LookUp( 'Other Requests', gvEditATCRequest.'ATC Request'='ATC Request ID'.'ATC Request').'Denial Date')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Format: ="mm/dd/yyyy"
                        Height: =AppFonts.FieldHeight
                        HoverDateFill: =RGBA(205, 209, 213, 1)
                        IconBackground: =RGBA(255, 255, 255, 1)
                        IconFill: =AppColors.DarkGray
                        InputTextPlaceholder: ="MM/DD/YYYY"
                        PaddingTop: =5
                        SelectedDateFill: =RGBA(100, 118, 132, 1)
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-40
                        ZIndex: =2

                    lblErrorMessageDenailDateOtherATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage+3
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If(IsBlank(dateDenailDateOtherATCRequest.SelectedDate), "Denail Date is required",  If(dateDenailDateOtherATCRequest.SelectedDate<  dateRequestDateOtherATCRequest.SelectedDate,"Denail Date Should be greater than Request Date"))       
                        Visible: =If(IsBlank(dateDenailDateOtherATCRequest.SelectedDate),lvMandatoryOtherTab,If(dateDenailDateOtherATCRequest.SelectedDate<  dateRequestDateOtherATCRequest.SelectedDate,true))
                        Width: =Parent.Width
                        ZIndex: =3

            cntDescriptionOtherATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =140
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =1
                PaddingLeft: =2
                PaddingRight: =2
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                lblDescriptionOtherATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Size: =AppFonts.fontSize
                    Text: ="Description "
                    Width: =200
                    ZIndex: =1

                txtDescriptionOtherATCRequest As text:
                    BorderColor: =AppColors.Grey
                    Color: =RGBA(0, 0, 0, 1)
                    Default: = If(gvNewATCRequest=false, LookUp( 'Other Requests', gvEditATCRequest.'ATC Request'='ATC Request ID'.'ATC Request').Description)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    EnableSpellCheck: =true
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    Height: =80
                    HintText: ="Type here"
                    HoverBorderColor: =AppColors.Grey
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnChange: |+
                        =If(
                            !IsBlank(Self.Text),
                            Set(
                                lvID3,
                                Collect(
                                    collResponse,
                                    {
                                        ResponseID: If(
                                            galMessageATCRequest.AllItemsCount = 0,
                                            1,
                                            Last(collResponse).ResponseID + 1
                                        ),
                                        'Response Message': Self.Text,
                                        'Response Date Time': Now(),
                                        RequestType: "Other"
                                    }
                                )
                            )
                        );
                        
                        
                        If(
                            IsBlank(Self.Text), ForAll( Filter(collResponse, RequestType="Other"), Remove(collResponse, ThisRecord)))
                        
                        
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =AppFonts.fontSize
                    Width: =500
                    ZIndex: =2

                lblErrorMessageDescriptionOtherATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =AppColors.Red
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =AppFonts.lblHeightForErrorMessage
                    PaddingLeft: =0
                    Size: =AppFonts.fontSizeForErrorMessage
                    Text: = "Description is required"
                    Visible: =If(IsBlank(txtDescriptionOtherATCRequest.Text),lvMandatoryOtherTab)
                    Width: =Parent.Width
                    ZIndex: =3

        cnt3rdSeperatorATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =70
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.Center
            LayoutMinHeight: =80
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =14

            rct3rdSeperatorATCRequest As rectangle:
                BorderColor: =RGBA(32, 54, 71, 1)
                Fill: =RGBA(197, 197, 197, 1)
                Height: =1
                Width: =Parent.Width
                ZIndex: =1

        "'cntResponse&InternalNotesATCRequest' As groupContainer.horizontalAutoLayoutContainer":
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =cntInternalNotesATCRequest.Y+cntInternalNotesATCRequest.Height
            LayoutMinHeight: =cntInternalNotesATCRequest.Y+cntInternalNotesATCRequest.Height+500
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowX: =LayoutOverflow.Scroll
            LayoutOverflowY: =LayoutOverflow.Scroll
            LayoutWrap: =true
            PaddingRight: =
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-20
            ZIndex: =15

            cntResponseMessageATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                FillPortions: =0
                Height: =cntMessageATCRequest.Height+cntMessageATCRequest.Y
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =cntMessageATCRequest.Height+cntMessageATCRequest.Y
                LayoutMinWidth: =Parent.Width/3-25
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =If(ATCRequest.Size =2,Parent.Width, Parent.Width/2-25)
                ZIndex: =1

                cntResponseMessageHeaderATCRequest As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Fill: =AppColors.LightBlue
                    FillPortions: =0
                    Height: =50
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    Width: =Parent.Width
                    ZIndex: =1

                    lblResponseMessageHeaderATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Fill: =AppColors.LightBlue
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        PaddingLeft: =12
                        Size: =AppFonts.titleFontSize
                        Text: ="Response"
                        Width: =Parent.Width-btnAddNewResponseATCRequest.Width-20
                        ZIndex: =1

                    btnAddNewResponseATCRequest As button:
                        BorderStyle: =BorderStyle.None
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =AppColors.Orange
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =35
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =AppColors.Orange
                        OnSelect: |-
                            =UpdateContext({lvAddNewResponse:true}); Reset(txtResponseATCRequest);UpdateContext({lvMandatoryResponse: false}); UpdateContext({lvEditResponse:false})
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =ColorFade(Self.Fill,50%)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Text: ="Add New Response"
                        Width: =175
                        ZIndex: =2

                cntMessageATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Fill: =AppColors.LightGray
                    FillPortions: =0
                    Height: =450
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =galMessageATCRequest.Y+galMessageATCRequest.Height
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =15
                    PaddingRight: =15
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =
                    RadiusTopRight: =
                    Width: =Parent.Width
                    ZIndex: =3

                    lblMessageATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Bold
                        Size: =AppFonts.titleFontSize
                        Text: ="Message"
                        ZIndex: =3

                    galMessageATCRequest As gallery.variableTemplateHeightGallery:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(32, 54, 71, 1)
                        DelayItemLoading: =true
                        FillPortions: =0
                        Height: =Parent.Height-lblMessageATCRequest.Height-20
                        Items: =collResponse
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =0
                        LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =280
                        Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                        ZIndex: =5

                        lblResponseMessageATCRequest As label:
                            AutoHeight: =true
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            OnSelect: =Select(Parent)
                            Size: =AppFonts.fontSize
                            Text: =ThisItem.'Response Message'
                            Width: =Parent.Width*85%
                            ZIndex: =1

                        "'lblDate&TimeMessageATCRequest' As label":
                            Align: =Align.Right
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =15
                            PaddingBottom: =0
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =AppFonts.fontSize
                            Text: =ThisItem.'Response Date Time'
                            Width: =Parent.Width
                            Y: =lblResponseMessageATCRequest.Height
                            ZIndex: =2

                        rctSeperatorMessageATCRequest As rectangle:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Fill: =RGBA(197, 197, 197, 1)
                            Height: =1
                            Width: =Parent.Width
                            Y: ='lblDate&TimeMessageATCRequest'.Height+'lblDate&TimeMessageATCRequest'.Y+2
                            ZIndex: =5

                        icnDeleteMessageATCRequest As image:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Height: =28
                            Image: =trash
                            OnSelect: |-
                                =UpdateContext({lvDeleteResponse:true});
                                UpdateContext({lvResponse:ThisItem})
                            Width: =10
                            X: =icnEditMessageATCRequest.X+icnEditMessageATCRequest.Width+10
                            ZIndex: =7

                        icnEditMessageATCRequest As image:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Height: =28
                            Image: =icnEdit
                            OnSelect: |-
                                =UpdateContext({lvEditResponse:true});
                                UpdateContext({lvResponse:ThisItem})
                            Width: =10
                            X: =lblResponseMessageATCRequest.X+ lblResponseMessageATCRequest.Width+20
                            ZIndex: =8

            cnt4thSeperatorATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =500
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =50
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Visible: |
                    =If(ATCRequest.Size <3, false,true)
                Width: =50
                ZIndex: =2

                rct4thSeperatorATCRequest As rectangle:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Fill: =AppColors.Grey
                    Height: =Parent.Height
                    Width: =1
                    ZIndex: =1

            cntInternalNotesATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =AppColors.LightGray
                FillPortions: =0
                Height: =cntInsideInternalNotesATCRequest.Height+cntInsideInternalNotesATCRequest.Y
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =cntInsideInternalNotesATCRequest.Height+cntInsideInternalNotesATCRequest.Y
                LayoutMinWidth: =Parent.Width/3-50
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =If( ATCRequest.Size =2,Parent.Width, Parent.Width/2-25)
                ZIndex: =4

                lblInternalNotesATCRequest As label:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Fill: =AppColors.LightBlue
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingLeft: =20
                    Size: =AppFonts.titleFontSize
                    Text: ="Internal Notes"
                    Width: =Parent.Width
                    ZIndex: =1

                cntInsideInternalNotesATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =450
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =150
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =15
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    ZIndex: =2

                    "'cntParalegal&AttachmentATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =120
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =1

                        cntRequestCompletedByATCRequest As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =cntRequestCompletedByATCRequest.Width/2
                            PaddingLeft: =5
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =Parent.Width/2-10
                            ZIndex: =1

                            lblRequestCompletedByATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.DarkGray
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                FontWeight: =FontWeight.Semibold
                                Size: =AppFonts.fontSize
                                Text: |-
                                    ="Request Completed By:"
                                Width: =240
                                Y: =20
                                ZIndex: =1

                            cbxRequestCompletedByATCRequest As combobox:
                                BorderColor: =AppColors.Grey
                                BorderThickness: =1
                                ChevronBackground: =RGBA(0, 0, 0, 0)
                                ChevronDisabledBackground: =RGBA(166, 166, 166, 1)
                                ChevronDisabledFill: =RGBA(244, 244, 244, 1)
                                ChevronFill: =AppColors.DarkGray
                                ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                                ChevronHoverFill: =AppColors.DarkGray
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                DisplayFields: =["idoc_name"]
                                FocusedBorderThickness: =1
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.FieldHeight
                                HoverColor: =RGBA(0, 0, 0, 1)
                                HoverFill: =RGBA(255, 255, 255, 1)
                                Items: =Paralegals
                                PressedColor: =AppColors.DarkGray
                                PressedFill: =RGBA(255, 255, 255, 1)
                                SearchFields: =["idoc_name"]
                                SearchItems: =Search(Paralegals,cbxRequestCompletedByATCRequest.SearchText,"idoc_name")
                                SelectionColor: =RGBA(0, 0, 0, 1)
                                SelectionFill: =RGBA(255, 255, 255, 1)
                                Size: =AppFonts.fontSize
                                Width: =Parent.Width-30
                                X: =1
                                Y: =65
                                ZIndex: =2

                            lblErrorMessageRequestCompletedByATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =AppColors.Red
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Height: =AppFonts.lblHeightForErrorMessage
                                Size: =AppFonts.fontSizeForErrorMessage
                                Text: ="Request Completed by is required"
                                Visible: |-
                                    =If(lvCloseRequest=true && LookUp(
                                                        'ATC Requests',
                                                        gvEditATCRequest.'ATC Request' = 'ATC Request'
                                                    ).'Form Status'="Responded" && IsBlank(cbxRequestCompletedByATCRequest.Selected.'Paralegal Name'), true, false)
                                Width: =244
                                Y: =100
                                ZIndex: =3

                        cntATCAttachmentATCRequest As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =20
                            PaddingLeft: =10
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =Parent.Width/2+10
                            ZIndex: =2

                            ATCAttachmentATCRequest As attachments:
                                BorderColor: =AppColors.Grey
                                BorderThickness: =1
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                DisplayMode: =Parent.DisplayMode
                                DropTargetBorderColor: =AppColors.Grey
                                FocusedBorderThickness: =1
                                Font: =AppFonts.FontStyle
                                Height: =83
                                HoverColor: =RGBA(0, 0, 0, 1)
                                HoverFill: =RGBA(205, 209, 213, 1)
                                IsInDataCard: =true
                                ItemColor: =RGBA(0,0, 0, 1)
                                ItemFill: =RGBA(0, 0, 0, 0)
                                ItemHoverColor: =RGBA(0, 0, 0, 1)
                                ItemHoverFill: =RGBA(0, 0, 0, 0)
                                Items: |-
                                    =  If(gvNewATCRequest=false,ForAll(Filter('ATC Attachments', gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request').Content, {DisplayName:ThisRecord.Content.FileName, Value:ThisRecord.Content.Value}))
                                MaxAttachments: =10
                                PaddingBottom: =5
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                PaddingRight: =5
                                PaddingTop: =5
                                PressedColor: =RGBA(255, 255, 255, 1)
                                PressedFill: =
                                Size: =AppFonts.fontSize
                                Tooltip: =
                                Width: =Parent.Width-45
                                X: =18
                                Y: =16
                                ZIndex: =2

                    cntATCMessageATCRequest As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =40
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =30
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width-40
                        ZIndex: =2

                        cntInsideATCMessageATCRequest As groupContainer.horizontalAutoLayoutContainer:
                            FillPortions: =0
                            LayoutMinHeight: =Parent.Height
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =320
                            ZIndex: =1

                            lblATCMessageATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                FontWeight: =FontWeight.Bold
                                Size: =13
                                Text: ="Message"
                                Width: =95
                                ZIndex: =1

                            lblNoteATCMessageATCRequest As label:
                                BorderColor: =RGBA(32, 54, 71, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =AppFonts.FontStyle
                                Size: =11
                                Text: ="(will not be sent to resident)"
                                Width: =250
                                ZIndex: =2

                        cbxPrintAlsoATCRequest As checkbox:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            BorderStyle: =BorderStyle.None
                            CheckboxBorderColor: =RGBA(32, 54, 71, 1)
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =  If(gvNewATCRequest=false,gvEditATCRequest.'Is resident used concern form')
                            DisplayMode: =If(cbxATCFormNotSubmittedATCRequest.Value=true, DisplayMode.Disabled )
                            Font: =AppFonts.FontStyle
                            Height: =30
                            HoverColor: =RGBA(32, 54, 71, 1)
                            Size: =AppFonts.fontSize
                            Text: ="Print Also"
                            Width: =105
                            X: =14
                            Y: =40
                            ZIndex: =2

                    rteATCMessageATCRequest As richTextEditor:
                        BorderColor: =AppColors.Grey
                        Default: =If(gvNewATCRequest=false, gvEditATCRequest.'Internal Notes')
                        Height: =Parent.Height-180
                        Width: =Parent.Width-40
                        ZIndex: =3

        cntMainButtonsATCRequest As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =70
            LayoutGap: =20
            LayoutJustifyContent: =LayoutJustifyContent.End
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            LayoutMode: =LayoutMode.Auto
            PaddingRight: =1
            PaddingTop: =20
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight-30
            ZIndex: =16

            btnMainCancelATCRequest As button:
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderThickness: =1
                Color: =RGBA(0, 0, 0, 1)
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =1
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Height: =35
                HoverBorderColor: =
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =
                OnSelect: |-
                    =UpdateContext({lvDiscardData: true})
                PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =AppFonts.fontSize
                Text: ="Cancel"
                Width: =80
                ZIndex: =1

            btnSaveATCRequest As button:
                BorderColor: =RGBA(0,0,0,1)
                BorderThickness: =1
                Color: =RGBA(0, 0, 0, 1)
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =1
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Height: =35
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =
                OnSelect: |
                    =//Book Request
                    If(
                        CountRows(
                            Filter(
                                galBookDetailsATCRequest.AllItems,
                                !IsBlank(cmbFacilityATCRequest.Selected.'Facility Name') || !IsBlank(cmbBookATCREquest.Selected.'Book Title') || !IsBlank(dateDueDateATCRequest.SelectedDate) || !IsBlank(dateCheckOutATCRequest.SelectedDate) || !IsBlank(rdoBookDeliveryTypeATCRequest.Selected.Value) || !IsBlank(dateDeliveryDateATCRequest.SelectedDate) || !IsBlank(ddDeliveryDateFromATCRequest.Selected.Value) || !IsBlank(ddDeliveryDatetoATCRequest.Selected.Value) || !IsBlank(rdoBookReturnTypeATCRequest.Selected.Value) || !IsBlank(dateddReturnDateATCREquest.SelectedDate) || !IsBlank(ddReturnDateFromATCREquest.Selected.Value) || !IsBlank(ddReturnDateToATCREquest.Selected.Value)
                            )
                        ) <> 0,
                        UpdateContext({lvMandatoryBookDetails: true})
                    );
                    //Patch Book Request
                    If(
                        (CountRows(
                            Filter(
                                galBookDetailsATCRequest.AllItems As obj,
                                If(
                                    LookUp(
                                        collBookInventory,
                                        'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                    ).'Available Copies' = 1,
                                    IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                                    IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                                )
                            )
                        ) = 0),
                        Set(
                            lvFlag1,
                            true
                        );
                        
                    );
                    //Indigent Supply
                    If(
                        !IsBlank(rdoOptionsIsPersonIndigentATCRequest.Selected.Value) || !IsBlank(txtDescriptionATCRequest.Text),
                        UpdateContext({lvMandatoryIndigentSuppy: true})
                    );
                    // Patch Indigent Supply
                    If(
                        lvMandatoryIndigentSuppy = true && If(
                            rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                            !IsBlank(txtDescriptionATCRequest.Text),
                            If(
                                rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                                !IsEmpty(AttachmentATCRequest.Attachments)
                            )
                        ),
                        Set(
                            lvFlag2,
                            true
                        )
                    );
                    //Call Out Request
                    If(
                        !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) || !IsBlank(ddServiceDateFromCallOutATCRequest.Selected.Value) || !IsBlank(ddServiceDateToCallOutATCRequest.Selected.Value) || lvCountCallOutServices >= 1,
                        UpdateContext({lvMandatoryCallOutRequest: true})
                    );
                    //Patch call out
                    If(
                        lvMandatoryCallOutRequest = true && !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
                        Set(
                            lvFlag3,
                            true
                        )
                    );
                    //Visit Request
                    If(
                        !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) || !IsBlank(rdoIncludeATCResponseVisitATCRequest.Selected.Value) || lvCountVisitServices >= 1,
                        UpdateContext({lvMandatoryVistrequest: true})
                    );
                    //Patch Visit
                    If(
                        lvMandatoryVistrequest = true && !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
                        Set(
                            lvFlag4,
                            true
                        )
                    );
                    //Legal Mail
                    If(
                        !IsBlank(txtTypeOfMailATCRequest.Text) || !IsBlank(txtCaseNumberATCRequest.Text) || !IsBlank(dateReceivedOnATCRequest.SelectedDate) || !IsBlank(dateMailSentOnATCRequest.SelectedDate) || If(
                            cbxRegisteredAddressATCRequest.Value = false,
                            !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                            !IsBlank(txtRegisteredAddressATCRequest.Text)
                        ),
                        UpdateContext({lvMandatoryLegalMail: true})
                    );
                    //Patch Legal Mail
                    If(
                        lvMandatoryLegalMail = true && !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                            cbxRegisteredAddressATCRequest.Value = false,
                            !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                            If(
                                cbxRegisteredAddressATCRequest.Value = true,
                                !IsBlank(txtRegisteredAddressATCRequest.Text)
                            )
                        ),
                        Set(
                            lvFlag5,
                            true
                        )
                    );
                    //E-file Request
                    If(
                        !IsBlank(txtTypeOfFilingATCRequest.Text) || !IsBlank(txtCaseNumberEFileATCRequest.Text) || !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) || !IsBlank(dateEFiledOnATCRequest.SelectedDate) || If(
                            cbxCourtATCRequest.Value = false,
                            !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                            !IsBlank(txtCourtATCRequest.Text)
                        ) || !IsBlank(txtEFileDescriptionATCRequest.Text),
                        UpdateContext({lvMandatoryEFileRequest: true})
                    );
                    //Patch E-file 
                    If(
                        lvMandatoryEFileRequest = true && !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                            cbxCourtATCRequest.Value = false,
                            !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                            !IsBlank(txtCourtATCRequest.Text)
                        ),
                        Set(
                            lvFlag6,
                            true
                        )
                    );
                    //Other request
                    If(
                        !IsBlank(txtDescriptionOtherATCRequest.Text) || !IsBlank(dateDenailDateOtherATCRequest.SelectedDate) || !IsBlank(dateRequestDateOtherATCRequest.SelectedDate),
                        UpdateContext({lvMandatoryOtherTab: true})
                    );
                    //Patch Other 
                    If(
                        !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateRequestDateOtherATCRequest.SelectedDate),
                        Set(
                            lvFlag7,
                            true
                        )
                    );
                    //Main
                    If(
                        (lvCountPackets >= 1 || lvFlag1 = true || lvFlag2 = true || lvFlag3 = true || lvFlag4 = true || lvFlag5 = true || lvFlag6 = true || lvFlag7 = true) && If(
                            lvFlag1 = true,
                            true,
                            If(
                                lvMandatoryBookDetails = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag2 = true,
                            true,
                            If(
                                lvMandatoryIndigentSuppy = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag3 = true,
                            true,
                            If(
                                lvMandatoryCallOutRequest = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag4 = true,
                            true,
                            If(
                                lvMandatoryVistrequest = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag5 = true,
                            true,
                            If(
                                lvMandatoryLegalMail = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag6 = true,
                            true,
                            If(
                                lvMandatoryEFileRequest = false,
                                true,
                                false
                            )
                        ) && If(
                            lvFlag7 = true,
                            true,
                            If(
                                lvMandatoryOtherTab = false,
                                true,
                                false
                            )
                        ) && (!IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') && !IsBlank(cbxFacilityATCRequest.Selected.'Facility Name') && !IsBlank(dateSubmitDateATCRequest.SelectedDate) && !IsBlank(dateDateReceivedbyParalegalATCRequest.SelectedDate) && dateDateReceivedbyParalegalATCRequest.SelectedDate >= dateSubmitDateATCRequest.SelectedDate),
                        Set(
                            gvNewRecord,
                            Patch(
                                'ATC Requests',
                                If(
                                    gvNewATCRequest = true,
                                    Defaults('ATC Requests'),
                                    LookUp(
                                        'ATC Requests',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request'
                                    )
                                ),
                                {
                                    'Roster Id': 'cmbMainScreenIDOC#ATCRequest'.Selected,
                                    'Facility Id': cbxFacilityATCRequest.Selected
                                     /*LookUp(
                                        collFacility,
                                        'Facility Name' = cbxFacilityATCRequest.Selected.'Facility Name'
                                    )*/,
                                    'Unit Number': txtMainScreenUnitNumberATCRequest.Text,
                                    'Submit Date': dateSubmitDateATCRequest.SelectedDate,
                                    'Is Submitted Date Incorrect': cbxSubmitDateATCRequest.Value,
                                    'Date Received by Paralegal': dateDateReceivedbyParalegalATCRequest.SelectedDate,
                                    'Response Date': dateResposnseDateATCRequest.SelectedDate,
                                    'Is resident used concern form': cbxConcerFormUsedATCRequest.Value,
                                    'ATC form not submitted': cbxATCFormNotSubmittedATCRequest.Value,
                                    'Internal Notes': rteATCMessageATCRequest.HtmlText,
                                    'Paralegal ID': cbxRequestCompletedByATCRequest.Selected,
                                    Activity: User().Email & " submitted the ATC request on " & Now(),
                                    'Form Status': If(
                                        lvStatusResponded = true,
                                        "Responded",
                                        "Inprogress"
                                    )
                                }
                            )
                        );
                        If(
                            lvStatusResponded = true,
                            Patch(
                                'ATC Requests',
                                LookUp(
                                    'ATC Requests',
                                    gvNewRecord.'ATC Request' = 'ATC Request'
                                ),
                                {
                                    Activity: LookUp(
                                        'ATC Requests',
                                        gvNewRecord.'ATC Request' = 'ATC Request'
                                    ).Activity & ", " &
                                    User().Email & " responded ATC request on " & Now()
                                }
                            )
                        );
                        
                    //Attachment
                    ForAll(
                            ATCAttachmentATCRequest.Attachments,
                            Patch(
                                'ATC Attachments',
                                Defaults('ATC Attachments'),
                                {
                                    'ATC Request ID': gvNewRecord,
                                    Content: {
                                        FileName: ThisRecord.Name,
                                        Value: ThisRecord.Value
                                    }
                                }
                            )
                        );
                        
                    //Other Request
                    If(
                            !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateDenailDateOtherATCRequest.SelectedDate),
                            Patch(
                                'Other Requests',
                                If(
                                    gvNewATCRequest = true || IsBlank(
                                        LookUp(
                                            'Other Requests',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                        )
                                    ),
                                    Defaults('Other Requests'),
                                    LookUp(
                                        'Other Requests',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                    )
                                ),
                                {
                                    'Request Date': dateRequestDateOtherATCRequest.SelectedDate,
                                    Description: txtDescriptionOtherATCRequest.Text,
                                    'Denial Date': dateDenailDateOtherATCRequest.SelectedDate,
                                    'ATC Request ID': gvNewRecord
                                }
                            )
                        );
                        
                    //Book Request
                    If(
                            (CountRows(
                                Filter(
                                    galBookDetailsATCRequest.AllItems As obj,
                                    If(
                                        LookUp(
                                            collBookInventory,
                                            'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                        ).'Available Copies' = 1,
                                        IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                                        IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                                    )
                                )
                            ) = 0),
                            Remove(
                                'Book Requests',
                                Filter(
                                    'Book Requests',
                                    'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                                )
                            );
                            ForAll(
                                galBookDetailsATCRequest.AllItems As obj,
                                If(
                                    LookUp(
                                        collBookInventory,
                                        'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                    ).'Available Copies' = 1,
                                    Patch(
                                        'Book Requests',
                                        Defaults('Book Requests'),
                                        {
                                            'Facility ID': LookUp(
                                                collFacility,
                                                'Facility Name' = obj.cmbFacilityATCRequest.Selected.'Facility Name'
                                            ),
                                            'Book Id': LookUp(
                                                collBookInventory,
                                                'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                            ),
                                            'Book Checkout Date': obj.dateCheckOutATCRequest.SelectedDate,
                                            'Book Due Date': obj.dateDueDateATCRequest.SelectedDate,
                                            'Book Deliver Type': If(
                                                obj.rdoBookDeliveryTypeATCRequest.Selected.Value = "Visit Request",
                                                'Book Deliver/Return Type'.'Visit Request',
                                                'Book Deliver/Return Type'.'Call Out Request'
                                            ),
                                            'Delivery Date From': DateTimeValue(obj.dateDeliveryDateATCRequest.SelectedDate & " " & obj.ddDeliveryDateFromATCRequest.Selected.Value),
                                            'Delivery Date To': DateTimeValue(obj.dateDeliveryDateATCRequest.SelectedDate & " " & obj.ddDeliveryDatetoATCRequest.Selected.Value),
                                            'Book Return Type': If(
                                                obj.rdoBookReturnTypeATCRequest.Selected.Value = "Visit Request",
                                                'Book Deliver/Return Type'.'Visit Request',
                                                'Book Deliver/Return Type'.'Call Out Request'
                                            ),
                                            'Return Date From': DateTimeValue(obj.dateddReturnDateATCREquest.SelectedDate & " " & obj.ddReturnDateFromATCREquest.Selected.Value),
                                            'Return Date To': DateTimeValue(obj.dateddReturnDateATCREquest.SelectedDate & " " & obj.ddReturnDateToATCREquest.Selected.Value),
                                            'ATC Request Id': gvNewRecord,
                                            'Book Status': If(
                                                IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value),
                                                'Book Status (Book Requests)'.'Checked Out',
                                                If(
                                                    obj.rdoAddtoWaitlistATCRequest.Selected.Value = "Yes",
                                                    'Book Status (Book Requests)'.Waitlisted
                                                )
                                            )
                                        }
                                    ),
                                    Patch(
                                        'Book Requests',
                                        Defaults('Book Requests'),
                                        {
                                            'Facility ID': LookUp(
                                                collFacility,
                                                'Facility Name' = obj.cmbFacilityATCRequest.Selected.'Facility Name'
                                            ),
                                            'Book Id': LookUp(
                                                collBookInventory,
                                                'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                            ),
                                            'Book Status': If(
                                                obj.rdoAddtoWaitlistATCRequest.Selected.Value = "Yes",
                                                'Book Status (Book Requests)'.Waitlisted
                                            ),
                                            'ATC Request Id': gvNewRecord
                                        }
                                    )
                                )
                            )
                        );
                        
                    //packet Request
                    Remove(
                            'Packet Request Details',
                            Filter(
                                'Packet Request Details',
                                'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                            )
                        );
                        ForAll(
                            Filter(
                                galPacketRequestATCRequest.AllItems,
                                cbxPacketsATCRequest.Value = true
                            ),
                            Patch(
                                'Packet Request Details',
                                Defaults('Packet Request Details'),
                                {
                                    'Packet ID': ThisRecord,
                                    Quantity: Value(lblQuantityATCRequest.Text),
                                    'ATC Request Id': gvNewRecord
                                }
                            )
                        );
                        
                    //Indigent Supply
                    If(
                            lvMandatoryIndigentSuppy = true && If(
                                rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                                !IsBlank(txtDescriptionATCRequest.Text),
                                If(
                                    rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                                    !IsEmpty(AttachmentATCRequest.Attachments)
                                )
                            ),
                            Patch(
                                'Indigent Supplies',
                                If(
                                    gvNewATCRequest = true || IsBlank(
                                        LookUp(
                                            'Indigent Supplies',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                        )
                                    ),
                                    Defaults('Indigent Supplies'),
                                    LookUp(
                                        'Indigent Supplies',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                    )
                                ),
                                {
                                    'Is this Person Indigent?': If(
                                        rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                                        true,
                                        false
                                    ),
                                    Description: txtDescriptionATCRequest.Text,
                                    Attachment: {
                                        FileName: First(AttachmentATCRequest.Attachments).Name,
                                        Value: First(AttachmentATCRequest.Attachments).Value
                                    },
                                    'ATC Request Id': gvNewRecord
                                }
                            )
                        );
                        
                    //Patch call out
                    If(
                            lvMandatoryCallOutRequest = true && !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
                            Set(
                                gvCallOuts,
                                Patch(
                                    'Call Out Requests',
                                    If(
                                        gvNewATCRequest = true || IsBlank(
                                            LookUp(
                                                'Call Out Requests',
                                                gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                            )
                                        ),
                                        Defaults('Call Out Requests'),
                                        LookUp(
                                            'Call Out Requests',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                        )
                                    ),
                                    {
                                        'Service From Date': DateTimeValue(dateServiceDateCallOutATCRequest.SelectedDate & " " & ddServiceDateFromCallOutATCRequest.Selected.Value),
                                        'Service To Date': DateTimeValue(dateServiceDateCallOutATCRequest.SelectedDate & " " & ddServiceDateToCallOutATCRequest.Selected.Value),
                                        'ATC Request Id': gvNewRecord
                                    }
                                )
                            );
                            Remove(
                                'Call Out/Visit Services',
                                Filter(
                                    'Call Out/Visit Services',
                                    'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' && 'Type of Service' = "Call Out Request"
                                )
                            );
                            ForAll(
                                Filter(
                                    galServiesCallOutATCRequest.AllItems,
                                    cbxServiesCallOutATCRequest.Value = true
                                ),
                                Patch(
                                    'Call Out/Visit Services',
                                    Defaults('Call Out/Visit Services'),
                                    {
                                        'Type of Service': "Call Out Request",
                                        'Call Out Service ID': ThisRecord,
                                        'Call Out Request ID': gvCallOuts,
                                        'ATC Request ID': gvNewRecord
                                    }
                                )
                            )
                        );
                        
                    //Visit Request
                    If(
                            lvMandatoryVistrequest = true && !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
                            Set(
                                gvVisits,
                                Patch(
                                    'Visit Requests',
                                    If(
                                        gvNewATCRequest = true || IsBlank(
                                            LookUp(
                                                'Visit Requests',
                                                gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                            )
                                        ),
                                        Defaults('Visit Requests'),
                                        LookUp(
                                            'Visit Requests',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                        )
                                    ),
                                    {
                                        'Visit Date From': DateTimeValue(dateServiceDateVisitATCRequest.SelectedDate & " " & ddServiceDateFromATCRequest.Selected.Value),
                                        'Visit Date To': DateTimeValue(dateServiceDateVisitATCRequest.SelectedDate & " " & ddServiceDateToATCRequest.Selected.Value),
                                        'include an ATC response with this request?': If(
                                            rdoIncludeATCResponseVisitATCRequest.Selected.Value = "Yes",
                                            true,
                                            false
                                        ),
                                        'ATC Request Id': gvNewRecord
                                    }
                                )
                            );
                            Remove(
                                'Call Out/Visit Services',
                                Filter(
                                    'Call Out/Visit Services',
                                    'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' && 'Type of Service' = "Visit Request"
                                )
                            );
                            ForAll(
                                Filter(
                                    galVisitServiceNamesATCRequest.AllItems,
                                    cbxVisitServiceNamesATCRequest.Value = true
                                ),
                                Patch(
                                    'Call Out/Visit Services',
                                    Defaults('Call Out/Visit Services'),
                                    {
                                        'Type of Service': "Visit Request",
                                        'Visit Request ID': gvVisits,
                                        'Visit Service ID': ThisRecord,
                                        'ATC Request ID': gvNewRecord
                                    }
                                )
                            )
                        );
                        
                    //Patch Legal Mail
                    If(
                            lvMandatoryLegalMail = true && !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                                cbxRegisteredAddressATCRequest.Value = false,
                                !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                                !IsBlank(txtRegisteredAddressATCRequest.Text)
                            ),
                            Patch(
                                'Legal Mails',
                                If(
                                    gvNewATCRequest = true || IsBlank(
                                        LookUp(
                                            'Legal Mails',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                        )
                                    ),
                                    Defaults('Legal Mails'),
                                    LookUp(
                                        'Legal Mails',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                    )
                                ),
                                {
                                    'Type Of Mail': txtTypeOfMailATCRequest.Text,
                                    'Case Number': txtCaseNumberATCRequest.Text,
                                    'Mail Received On Date': dateReceivedOnATCRequest.SelectedDate,
                                    'Mail Sent on Date': dateMailSentOnATCRequest.SelectedDate,
                                    'Temporary Address': txtRegisteredAddressATCRequest.Text,
                                    'Address Details ID': cmbRegisteredAddressATCRequest.Selected,
                                    //LookUp('Address Details', 'Address 1' = cbxFacilityATCRequest_2.Selected.'Combined Address')
                                    'ATC Request ID': gvNewRecord
                                }
                            )
                        );
                        
                    //Patch E-file 
                    If(
                            lvMandatoryEFileRequest = true && !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                                cbxCourtATCRequest.Value = false,
                                !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                                !IsBlank(txtCourtATCRequest.Text)
                            ),
                            Patch(
                                'E-File Requests',
                                If(
                                    gvNewATCRequest = true || IsBlank(
                                        LookUp(
                                            'E-File Requests',
                                            gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                        )
                                    ),
                                    Defaults('E-File Requests'),
                                    LookUp(
                                        'E-File Requests',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                    )
                                ),
                                {
                                    'Type Of Filing': txtTypeOfFilingATCRequest.Text,
                                    'Case Number': txtCaseNumberEFileATCRequest.Text,
                                    'File Received On Date': dateFilingReceivedOnATCRequest.SelectedDate,
                                    'E Filed On': dateEFiledOnATCRequest.SelectedDate,
                                    'Temporary Court Name': txtCourtATCRequest.Text,
                                    'Court Id': LookUp(
                                        Courts,
                                        'Court Name' = cmbCourtATCRequest.Selected.'Court Name'
                                    ),
                                    Description: txtEFileDescriptionATCRequest.Text,
                                    'ATC Request Id': gvNewRecord
                                }
                            )
                        );
                        
                    //Resident Response
                    Remove(
                            'Resident Responses',
                            Filter(
                                'Resident Responses',
                                'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request'
                            )
                        );
                        ForAll(
                            galMessageATCRequest.AllItems As obj,
                            Patch(
                                'Resident Responses',
                                Defaults('Resident Responses'),
                                {
                                    'ATC Request ID': gvNewRecord,
                                    'Response Message': obj.lblResponseMessageATCRequest.Text,
                                    'Response Date Time': DateTimeValue(obj.'lblDate&TimeMessageATCRequest'.Text)
                                }
                            )
                        );
                        ClearCollect(
                            collATCRequest,
                            'ATC Requests'
                        );
                        Navigate(Home);
                        UpdateContext({lvPrint: true});
                        Notify(
                            "Request Submitted Successfully",
                            NotificationType.Success
                        ),
                        UpdateContext({lvMandatoryField: true});
                        If(
                            (lvCountPackets >= 1 || lvFlag1 = true || lvFlag2 = true || lvFlag3 = true || lvFlag4 = true || lvFlag5 = true || lvFlag6 = true || !IsBlank(txtDescriptionOtherATCRequest.Text)),
                            Notify(
                                "Please fill the mandatory fields",
                                NotificationType.Error
                            ),
                            Notify(
                                "Atleast one request should be added",
                                NotificationType.Error
                            )
                        )
                    );
                PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =AppFonts.fontSize
                Text: ="Save"
                Width: =100
                ZIndex: =2

            "'btnPrint&SaveATCRequest' As button":
                BorderStyle: =BorderStyle.None
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =AppColors.Orange
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Height: =35
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =AppColors.Orange
                OnSelect: |-
                    =Navigate(Print);
                    
                    //patch packets
                    If(lvCountPackets >= 1, Set(lvFlag8, true));
                    
                    
                    //Patch Book Request
                    If(galBookDetailsATCRequest.AllItemsCount=0, Set(
                            lvFlag1,
                            false
                        ),
                        (CountRows(
                            Filter(
                                galBookDetailsATCRequest.AllItems As obj,
                                If(
                                    LookUp(
                                        collBookInventory,
                                        'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                    ).'Available Copies' = 1,
                                    IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                                    IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                                )
                            )
                        ) = 0),
                        Set(
                            lvFlag1,
                            true
                        );
                        
                    );
                    
                    //Patch Indigent Supply
                    If(
                         If(
                            rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                            !IsBlank(txtDescriptionATCRequest.Text),
                            If(
                                rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                                !IsEmpty(AttachmentATCRequest.Attachments)
                            )
                        ),
                        Set(
                            lvFlag2,
                            true
                        )
                    );
                    
                    //Call out
                    If(
                         !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
                        Set(
                            lvFlag3,
                            true
                        )
                    );
                    
                    
                    //Patch Visit
                    If(
                         !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
                        Set(
                            lvFlag4,
                            true
                        )
                    );
                    
                    
                    //patch legal mail
                    If(
                         !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                            cbxRegisteredAddressATCRequest.Value = false,
                            !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                            If(
                                cbxRegisteredAddressATCRequest.Value = true,
                                !IsBlank(txtRegisteredAddressATCRequest.Text)
                            )
                        ),
                        Set(
                            lvFlag5,
                            true
                        )
                    );
                    
                    //E File
                    If(
                         !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                            cbxCourtATCRequest.Value = false,
                            !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                            !IsBlank(txtCourtATCRequest.Text)
                        ),
                        Set(
                            lvFlag6,
                            true
                        )
                    );
                    
                    //Other 
                    
                    If(
                        !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateRequestDateOtherATCRequest.SelectedDate),
                        Set(
                            lvFlag7,
                            true
                        )
                    );
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(AppColors.Orange,50%)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =AppFonts.fontSize
                Text: ="Print"
                Visible: =If(gvNewATCRequest=false,true, false)
                Width: =100
                ZIndex: =3

            btnCloseATCRequest As button:
                BorderStyle: =BorderStyle.None
                BorderThickness: =0
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =AppColors.Orange
                FocusedBorderThickness: =1
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Height: =35
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =
                OnSelect: |-
                    =UpdateContext({lvCloseRequest: true});
                    If(
                        !IsBlank(dateResposnseDateATCRequest.SelectedDate) && dateResposnseDateATCRequest.SelectedDate>  dateDateReceivedbyParalegalATCRequest.SelectedDate && !IsBlank(cbxRequestCompletedByATCRequest.Selected.'Paralegal Name') ,
                        Patch(
                            'ATC Requests',
                            LookUp(
                                'ATC Requests',
                                gvEditATCRequest.'ATC Request' = 'ATC Request'
                            ),
                            {'Form Status': "Completed",
                            'Paralegal ID':cbxRequestCompletedByATCRequest.Selected,
                            Activity: LookUp('ATC Requests', gvEditATCRequest.'ATC Request'='ATC Request').Activity & ", " &   User().Email & " completed the request at " & Now()}
                        ); ClearCollect(
                                collATCRequest,
                                'ATC Requests'
                            ); Notify("This ATC Request has been completed", NotificationType.Success);
                            Navigate(Home);
                    )
                PressedColor: |
                    =RGBA(255, 255, 255, 1)
                PressedFill: =
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =AppFonts.fontSize
                Text: ="Close"
                Visible: |-
                    =If(gvNewATCRequest=false &&
                        LookUp(
                            'ATC Requests',
                            gvEditATCRequest.'ATC Request' = 'ATC Request'
                        ).'Form Status' = "Responded",
                        true,
                        false
                    )
                Width: =100
                ZIndex: =4

    cmpHeaderATCRequest As Header:
        Width: =Parent.Width
        ZIndex: =4

    cmpLeftNavigationATCRequest As LeftNavigation:
        ExpandMenu: =If(ATCRequest.Size<3,false,true)
        HamburgerIconVisibility: |
            =If(ATCRequest.Size<3,true,false)
        NavMenu: |-
            =Table(
                {
                    MenuLabel: "Dashboard",
                    MenuIcon: 'home Img',
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuID: 1
                },
                {
                    MenuLabel: "ATC Request",
                    MenuIcon: 'ATC Request Img',
                    MenuScreenNavigate: Home,
                    MenuID: 2
                },
                {
                    MenuLabel: "Activity Log",
                    MenuIcon: 'Activity Log',
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuID: 3
                },
                {
                    MenuLabel: "Roster",
                    MenuIcon: 'Roster Img',
                    MenuScreenNavigate: Roster,
                    MenuID: 4
                },
                {
                    MenuLabel: "Reports",
                    MenuIcon: 'Reports Img',
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuID: 5
                },
                {
                    MenuLabel: "Mail Logs",
                    MenuIcon: 'mail Img',
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuID: 6
                },
                {
                    MenuLabel: "Books",
                    MenuIcon: 'books Img',
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuID: 7,
                    SubMenu: Table(
                        {
                            MenuLabel: "Book History",
                            MenuScreenNavigate: App.ActiveScreen,
                            MenuID: 7
                        },
                        {
                            MenuLabel: "Book Management",
                            MenuScreenNavigate: App.ActiveScreen,
                            MenuID: 7
                        }
                    )
                },
                {
                    MenuLabel: "Packets",
                    MenuIcon: 'documents Img',
                    MenuScreenNavigate: PacketManager,
                    MenuID: 8
                }
            )
        ScreenHeight: =App.Height
        Width: |-
            =//If(ATCRequest.Size=1,gvNavBarWidth.Screen1, If(ATCRequest.Size=2,gvNavBarWidth.Screen2,If(ATCRequest.Size=3,gvNavBarWidth.Screen3,LeftNavigation_1.MenuWidth)))
            
            //If(ATCRequest.Size=3,gvNavBarWidth.Screen3,LeftNavigation_1.MenuWidth)
            
            cmpLeftNavigationATCRequest.MenuWidth
            
            //If(App.ActiveScreen.Size<3,LeftNavigation_1.MenuWidth,200)
        ZIndex: =5

    cntPopUpFadeATCRequest As groupContainer.verticalAutoLayoutContainer:
        Fill: =AppColors.GrayOut
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        Visible: =lvAddNewPerson=true||lvAddNewAddress=true||lvAddNewCourt=true || lvAddNewResponse=true ||lvEditResponse=true ||lvDeleteResponse=true || lvDiscardData=true
        Width: =Parent.Width
        ZIndex: =6

        cntAddNewPersonPopupATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =cntButtonsATCRequest.Height+cntButtonsATCRequest.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =04
            RadiusBottomRight: =04
            RadiusTopLeft: =04
            RadiusTopRight: =04
            Visible: =lvAddNewPerson=true
            Width: =600
            ZIndex: =2

            lblAddNewPersonATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(255, 223, 182, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Height: =50
                Size: =AppFonts.subTitleFontSize
                Text: ="Add New Person"
                Width: =Parent.Width
                ZIndex: =1

            cntAddNewPersonFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =cntLastNameATCRequest.Height+cntLastNameATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =30
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =2

                "'cntIDOC#ATCRequest' As groupContainer.verticalAutoLayoutContainer":
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =90
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)/3
                    ZIndex: =1

                    "'lblIDOC#ATCRequest' As label":
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="IDOC #:"
                        ZIndex: =1

                    "'txtIDOC#ATCRequest' As text":
                        BorderColor: =AppColors.Grey
                        BorderThickness: =2
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =2
                        Font: =AppFonts.FontStyle
                        Format: =TextFormat.Number
                        Height: =AppFonts.FieldHeight
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =170
                        ZIndex: =2

                    "'lblIErrorMessageDOC#ATCRequest' As label":
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: |-
                            =If(IsBlank('txtIDOC#ATCRequest'.Text),"IDOC # is required" , "Enter a valid IDOC #")
                        Visible: |-
                            =
                            If(IsBlank('txtIDOC#ATCRequest'.Text), lvMandatoryAddNewPerson,If(!IsMatch('txtIDOC#ATCRequest'.Text,"[0-9]+"),true, false))
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =3

                cntFirstNameATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =90
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)/3
                    ZIndex: =2

                    lblFirstNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="First Name:"
                        ZIndex: =1

                    txtFirstNameATCRequest As text:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =2
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =2
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =170
                        ZIndex: =2

                    lblErrorMessageFirstNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: =If(IsBlank(txtFirstNameATCRequest.Text),"First Name is required","Enter a valid First Name")
                        Visible: |-
                            =
                            If(IsBlank(txtFirstNameATCRequest.Text), lvMandatoryAddNewPerson)
                            //If(IsBlank(txtFirstNameATCRequesttxtFirstNameATCRequest.Text), lvMandatoryAddNewPerson, If(!IsMatch(txtFirstNameATCRequesttxtFirstNameATCRequest.Text,"^[A-Za-z.,\- ]*$"),true))
                            
                            //single space
                            //If(IsBlank(txtFirstNameATCRequesttxtFirstNameATCRequest.Text), lvMandatoryAddNewPerson, If(!IsMatch(txtFirstNameATCRequesttxtFirstNameATCRequest.Text,"^[A-Za-z.,\-]+( [A-Za-z.,\-]+)*$"),true))
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =3

                cntLastNameATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =90
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)/3
                    ZIndex: =3

                    lblLastNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Last Name:"
                        ZIndex: =1

                    txtLastNameATCRequest As text:
                        BorderColor: =AppColors.Grey
                        BorderThickness: =2
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =2
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =170
                        ZIndex: =2

                    lblErrorMessageLastNameATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Enter a valid Last Name"
                        Visible: |-
                            =//If(IsBlank(txtFirstNameATCRequesttxtFirstNameATCRequest.Text), lvMandatoryAddNewPerson)
                             //If(!IsMatch(txtLastNameATCRequest.Text,"^[A-Za-z.,\- ]*$"),true)
                            
                            //single space
                            //If(IsBlank(txtFirstNameATCRequesttxtFirstNameATCRequest.Text), lvMandatoryAddNewPerson, If(!IsMatch(txtFirstNameATCRequesttxtFirstNameATCRequest.Text,"^[A-Za-z.,\-]+( [A-Za-z.,\-]+)*$"),true))
                        Width: =Parent.Width-Parent.PaddingLeft
                        ZIndex: =3

            cntButtonsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =80
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =28
                PaddingTop: =20
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =3

                btnCancelATCRequest As button:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnSelect: |-
                        =UpdateContext({lvAddNewPerson:false});
                        UpdateContext({lvMandatoryAddNewPerson:false})
                    PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                    PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =AppFonts.fontSize
                    Text: ="Cancel"
                    Width: =90
                    ZIndex: =1

                btnAddToRosterATCRequest As button:
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(199, 127, 127, 0.84)
                    Fill: =AppColors.Orange
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =AppColors.Orange
                    OnSelect: |-
                        =If(
                            !IsBlank(txtFirstNameATCRequest.Text) && !IsBlank('txtIDOC#ATCRequest'.Text),
                        Set(gvRoster, Patch(
                                Rosters,
                                Defaults(Rosters),
                                {
                                    'IDOC No': 'txtIDOC#ATCRequest'.Text,
                                    'First Name': txtFirstNameATCRequest.Text,
                                    'Last Name': txtLastNameATCRequest.Text
                                }
                            ));
                            Notify(
                                "Person added successfully",
                                NotificationType.Success
                            );
                            ClearCollect(
                                CollRosters,
                                Rosters
                            );
                            UpdateContext({lvAddNewPerson: false}),
                            UpdateContext({lvMandatoryAddNewPerson: true})
                        )
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =ColorFade(AppColors.Orange,50%)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =AppFonts.fontSize
                    Text: ="Add to Roster"
                    Width: =150
                    ZIndex: =2

        cntAddNewMailingAddressATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: ='cntCancel&AddNewAddressATCRequest'.Height+'cntCancel&AddNewAddressATCRequest'.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =04
            RadiusBottomRight: =04
            RadiusTopLeft: =04
            RadiusTopRight: =04
            Visible: |
                =lvAddNewAddress=true
            ZIndex: =3

            lblAddNewMailingAddressATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(255, 223, 182, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Size: =AppFonts.subTitleFontSize
                Text: ="Add New Mailing Address"
                Width: =Parent.Width
                ZIndex: =1

            cntAddNewMailingAddressFieldsATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =cntFieldsATCRequest.Height+cntFieldsATCRequest.Y
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =2

                cntAddress1ATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =lblAddress1ATCRequest.Height+txtAddress1ATCRequest.Height+20
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =txtAddress1ATCRequest.Height+lblAddress1ATCRequest.Height
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =3

                    lblAddress1ATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Address 1:"
                        ZIndex: =1

                    txtAddress1ATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-30
                        ZIndex: =2

                    lblErrorMessageAddress1ATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Address 1 is required"
                        Visible: =If(IsBlank(txtAddress1ATCRequest.Text),lvMandatoryNewAddress)
                        Width: =Parent.Width
                        ZIndex: =3

                cntAddress2ATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =lblAddress2ATCRequest.Height+txtAddressATCRequest.Height+20
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =txtAddressATCRequest.Height+lblAddress2ATCRequest.Height
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =4

                    lblAddress2ATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Address 2:"
                        ZIndex: =1

                    txtAddressATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-30
                        ZIndex: =2

                    lblErrorMessageAddress2ATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        PaddingLeft: =0
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Address 2 is required"
                        Visible: |-
                            =//If(IsBlank(txtCourtNameATCRequest_1.Text),lvMandatoryNewAddress)
                            false
                        Width: =Parent.Width
                        ZIndex: =3

                cntFieldsATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =lblCityATCRequest.Height+txtCityATCRequest.Height+20
                    LayoutMinHeight: =txtCityATCRequest.Height+lblCityATCRequest.Height
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =5

                    cntCityATCRequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =lblCityATCRequest.Height+txtCityATCRequest.Height+20
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =txtCityATCRequest.Height+lblCityATCRequest.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width/3
                        ZIndex: =1

                        lblCityATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: |-
                                ="City:"
                            Width: =100
                            ZIndex: =1

                        txtCityATCRequest As text:
                            BorderColor: =AppColors.Grey
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.FieldHeight
                            HintText: ="Type here"
                            HoverBorderColor: =AppColors.Grey
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            PressedFill: =
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =AppFonts.fontSize
                            Width: =Parent.Width-30
                            ZIndex: =2

                        lblErrorMessageCityATCRequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =0
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="City is required"
                            Visible: =If(IsBlank(txtCityATCRequest.Text),lvMandatoryNewAddress)
                            Width: =Parent.Width
                            ZIndex: =3

                    cntStateATCrequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =lblStateATCrequest.Height+txtStateATCrequest.Height+20
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =txtStateATCrequest.Height+lblStateATCrequest.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width/3
                        ZIndex: =2

                        lblStateATCrequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: |-
                                ="State:"
                            Width: =100
                            ZIndex: =1

                        txtStateATCrequest As text:
                            BorderColor: =AppColors.Grey
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.FieldHeight
                            HintText: ="Type here"
                            HoverBorderColor: =AppColors.Grey
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            PressedFill: =
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =AppFonts.fontSize
                            Width: =Parent.Width-30
                            ZIndex: =2

                        lblErrorMessageStateATCrequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =0
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="State is required"
                            Visible: =If(IsBlank(txtStateATCrequest.Text),lvMandatoryNewAddress)
                            Width: =Parent.Width
                            ZIndex: =3

                    cntZipATCrequest As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =lblZipATCrequest.Height+txtZipATCrequest.Height+20
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =txtZipATCrequest.Height+lblZipATCrequest.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =10
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width/3
                        ZIndex: =3

                        lblZipATCrequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Size: =AppFonts.fontSize
                            Text: |-
                                ="Zip:"
                            Width: =100
                            ZIndex: =1

                        txtZipATCrequest As text:
                            BorderColor: =AppColors.Grey
                            Color: =RGBA(0, 0, 0, 1)
                            Default: =
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            FocusedBorderThickness: =1
                            Font: =AppFonts.FontStyle
                            Format: =TextFormat.Number
                            Height: =AppFonts.FieldHeight
                            HintText: ="Type here"
                            HoverBorderColor: =AppColors.Grey
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            PressedFill: =
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =AppFonts.fontSize
                            Width: =Parent.Width-30
                            ZIndex: =2

                        lblErrorMessageZipATCrequest As label:
                            BorderColor: =RGBA(32, 54, 71, 1)
                            Color: =AppColors.Red
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =AppFonts.FontStyle
                            Height: =AppFonts.lblHeightForErrorMessage
                            PaddingLeft: =0
                            Size: =AppFonts.fontSizeForErrorMessage
                            Text: ="Zip is required"
                            Visible: =If(IsBlank(txtZipATCrequest.Text),lvMandatoryNewAddress)
                            Width: =Parent.Width
                            ZIndex: =3

            "'cntCancel&AddNewAddressATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =70
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =20
                PaddingLeft: =20
                PaddingRight: =40
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                ZIndex: =3

                btnCancelAddNewMailingAddressATCRequest As button:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnSelect: |-
                        =UpdateContext({lvAddNewAddress:false});UpdateContext({lvMandatoryNewAddress: false})
                    PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                    PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="Cancel"
                    Width: =100
                    ZIndex: =1

                btnAddNewCourtATCRequest As button:
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(255, 255, 255, 1)
                    DisabledFill: =RGBA(199, 127, 127, 0.84)
                    Fill: =AppColors.Orange
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =AppColors.Orange
                    OnSelect: |
                        =If(
                            IsBlank(txtAddress1ATCRequest.Text) || IsBlank(txtCityATCRequest.Text) || IsBlank(txtStateATCrequest.Text) || IsBlank(txtZipATCrequest.Text),
                            UpdateContext({lvMandatoryNewAddress: true}),
                            Set(
                                gvaddress,
                                Patch(
                                    'Address Details',
                                    Defaults('Address Details'),
                                    {
                                        'Address 1': txtAddress1ATCRequest.Text,
                                        'Address 2': txtAddressATCRequest.Text,
                                        City: txtCityATCRequest.Text,
                                        State: txtStateATCrequest.Text,
                                        Zip: Value(txtZipATCrequest.Text)
                                    }
                                )
                            );
                            Notify("New mailing address added successfully", NotificationType.Success);
                            UpdateContext({lvAddNewAddress: false})
                        );
                        ClearCollect(
                            collAddressDetails,
                            AddColumns(
                                'Address Details',
                                "Combined Address",
                                'Address 1' & ", " & 'Address 2' & ", " & City & ", " & State & ", " & Zip
                            )
                        );
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =ColorFade(AppColors.Orange,50%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="Add New Address"
                    Width: =170
                    ZIndex: =2

        cntAddNewCourtPopupATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: ='cntCancel&AddNewCourtButtonsATCRequest'.Height+'cntCancel&AddNewCourtButtonsATCRequest'.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =04
            RadiusBottomRight: =04
            RadiusTopLeft: =04
            RadiusTopRight: =04
            Visible: =lvAddNewCourt=true
            Width: =340
            ZIndex: =4

            lblAddNewCourtPopupATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(255, 223, 182, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Height: =50
                Size: =AppFonts.subTitleFontSize
                Text: ="Add New Court"
                Width: =Parent.Width
                ZIndex: =1

            cntCourtNameAddNewCourtPopupATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =cntInsideAddNewCourtPopupATCRequest.Height+cntInsideAddNewCourtPopupATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =2

                cntInsideAddNewCourtPopupATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: |-
                        =//If(lblMainScreenFirstNameATCRequest_82.Visible=true, 100,  90)
                        100
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width-Parent.PaddingRight-Parent.PaddingLeft
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)
                    ZIndex: =3

                    lblCourtNameAddNewCourtATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: |-
                            ="Court Name:"
                        Width: =140
                        ZIndex: =1

                    txtAddNewCourtATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-20
                        ZIndex: =2

                    lblErrorMessageAddNewCourtATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Court Name is required"
                        Visible: =If(IsBlank(txtAddNewCourtATCRequest.Text),  lvMandatoryCourt)
                        Width: =Parent.Width
                        ZIndex: =3

            "'cntCancel&AddNewCourtButtonsATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =75
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =3

                "'cntInsidCancel&AddNewCourtButtonsATCRequest' As groupContainer.manualLayoutContainer":
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =Parent.Height-Parent.PaddingBottom-Parent.PaddingTop
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    ZIndex: =3

                    btnCancelButtonATCRequest As button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        OnSelect: |-
                            =UpdateContext({lvAddNewCourt:false}); UpdateContext({lvMandatoryCourt: false})
                        PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                        PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                        RadiusBottomLeft: =
                        RadiusBottomRight: =
                        RadiusTopLeft: =
                        RadiusTopRight: =
                        Size: =AppFonts.fontSize
                        Text: ="Cancel"
                        Width: =80
                        X: =12
                        Y: =10
                        ZIndex: =1

                    btnAddNewCourtButtonATCRequest As button:
                        BorderStyle: =BorderStyle.None
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(255, 255, 255, 1)
                        DisabledFill: =RGBA(199, 127, 127, 0.84)
                        Fill: =AppColors.Orange
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =AppColors.Orange
                        OnSelect: |
                            =If(
                                IsBlank(txtAddNewCourtATCRequest.Text),
                                UpdateContext({lvMandatoryCourt: true}),
                               Set(gvCourt, Patch(
                                    Courts,
                                    Defaults(Courts),
                                    {'Court Name': txtAddNewCourtATCRequest.Text}
                                ));
                                UpdateContext({lvAddNewCourt: false});
                                Notify(
                                    "New court added successfully",
                                    NotificationType.Success
                                );
                                ClearCollect(
                                    collCourt,
                                    Courts
                                );
                                
                            );
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =ColorFade(AppColors.Orange,50%)
                        RadiusBottomLeft: =
                        RadiusBottomRight: =
                        RadiusTopLeft: =
                        RadiusTopRight: =
                        Size: =AppFonts.fontSize
                        Text: ="Add New Court"
                        Width: =150
                        X: =138
                        Y: =10
                        ZIndex: =2

        cntAddNewResponsePopupATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =265
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =04
            RadiusBottomRight: =04
            RadiusTopLeft: =04
            RadiusTopRight: =04
            Visible: =lvEditResponse=true||lvAddNewResponse=true
            Width: =420
            ZIndex: =5

            lblAddNewResponsePopupATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(255, 223, 182, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Height: =50
                Size: =AppFonts.subTitleFontSize
                Text: =If(lvEditResponse=true,"Edit Response",  "Add New Response")
                Width: =Parent.Width
                ZIndex: =1

            cntResponseATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =cntInsideResponseATCRequest.Height+cntInsideResponseATCRequest.Y
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =2

                cntInsideResponseATCRequest As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =125
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width-Parent.PaddingRight-Parent.PaddingLeft
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =10
                    PaddingTop: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =(Parent.Width-Parent.PaddingLeft-Parent.PaddingRight)
                    ZIndex: =3

                    lblResponseATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Size: =AppFonts.fontSize
                        Text: ="Response"
                        Width: =140
                        ZIndex: =1

                    txtResponseATCRequest As text:
                        BorderColor: =AppColors.Grey
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =If(lvEditResponse=true, lvResponse.'Response Message')
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        EnableSpellCheck: =true
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.FieldHeight+30
                        HintText: ="Type here"
                        HoverBorderColor: =AppColors.Grey
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        PressedFill: =
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =AppFonts.fontSize
                        Width: =Parent.Width-20
                        ZIndex: =2

                    lblErrorMessageResponseATCRequest As label:
                        BorderColor: =RGBA(32, 54, 71, 1)
                        Color: =AppColors.Red
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =AppFonts.FontStyle
                        Height: =AppFonts.lblHeightForErrorMessage
                        Size: =AppFonts.fontSizeForErrorMessage
                        Text: ="Response is required"
                        Visible: =If(IsBlank(txtResponseATCRequest.Text),  lvMandatoryResponse)
                        Width: =Parent.Width
                        ZIndex: =3

            cntAddNewResponseButtons As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =100
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =3

                cntInsideAddNewResponseButtons As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =Parent.Height
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    ZIndex: =3

                    btnCancelAddNewResponseATCRequest As button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderThickness: =1
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        FocusedBorderThickness: =1
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        OnSelect: |-
                            =UpdateContext({lvAddNewResponse:false});
                            UpdateContext({lvEditResponse:false})
                        PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                        PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                        RadiusBottomLeft: =
                        RadiusBottomRight: =
                        RadiusTopLeft: =
                        RadiusTopRight: =
                        Size: =AppFonts.fontSize
                        Text: ="Cancel"
                        Width: =80
                        X: =10
                        Y: =20
                        ZIndex: =1

                    btnAddNewResponseATCREquest As button:
                        BorderStyle: =BorderStyle.None
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(255, 255, 255, 1)
                        DisabledFill: =RGBA(199, 127, 127, 0.84)
                        Fill: =AppColors.Orange
                        Font: =AppFonts.FontStyle
                        FontWeight: =FontWeight.Semibold
                        Height: =AppFonts.FieldHeight
                        HoverColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =AppColors.Orange
                        OnSelect: |-
                            =If(
                                IsBlank(txtResponseATCRequest.Text),
                                UpdateContext({lvMandatoryResponse: true}),
                                If(
                                    lvEditResponse = false,
                            
                                    //Add new response
                                    Collect(
                                        collResponse,
                                        {
                                            ResponseID:   If(galMessageATCRequest.AllItemsCount =0, 1, Last(collResponse).ResponseID + 1),
                                            'Response Message': txtResponseATCRequest.Text ,
                                           'Response Date Time': Now()
                                        }
                                    );
                                    UpdateContext({lvAddNewResponse: false});  UpdateContext({lvStatusResponded: true}); Notify("Response added successfully", NotificationType.Success),
                            
                                    //Edit Response
                                    Patch(
                                        collResponse,
                                        LookUp(
                                            collResponse,
                                            lvResponse.ResponseID = ResponseID
                                        ),
                                        {'Response Message': txtResponseATCRequest.Text, 'Response Date Time': Now()}
                                    );
                                    UpdateContext({lvEditResponse: false}); Notify("Response edited successfully", NotificationType.Success)
                                )
                            )
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =ColorFade(AppColors.Orange,50%)
                        RadiusBottomLeft: =
                        RadiusBottomRight: =
                        RadiusTopLeft: =
                        RadiusTopRight: =
                        Size: =AppFonts.fontSize
                        Text: =If(lvEditResponse=true,"Update Response",  "Add New Response") 
                        Width: =180
                        X: =190
                        Y: =20
                        ZIndex: =2

        cntDeleteResponseATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Center
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: ='cntYes&NoButtonsDeleteResponseATCRequest'.Height+'cntYes&NoButtonsDeleteResponseATCRequest'.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =05
            RadiusBottomRight: =05
            RadiusTopLeft: =05
            RadiusTopRight: =05
            Visible: =lvDeleteResponse=true
            Width: =400
            ZIndex: =6

            lblDeleteResponseATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(255, 223, 182, 1)
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Bold
                Height: =50
                Size: =AppFonts.subTitleFontSize
                Text: ="Delete Response"
                Width: =Parent.Width
                ZIndex: =1

            cntMessageDeleteResponseATCRequest As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =lblMessageDeleteResponseATCRequest.Height+lblMessageDeleteResponseATCRequest.Y
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =20
                Width: =Parent.Width
                ZIndex: =2

                lblMessageDeleteResponseATCRequest As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =AppFonts.FontStyle
                    Height: =90
                    PaddingBottom: =25
                    PaddingTop: =25
                    Size: =AppFonts.fontSize
                    Text: |-
                        ="You are about to delete this reponse, upon doing so this will remove the reponse.
                        
                         Are you sure you want to continue?"
                    Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                    ZIndex: =2

            "'cntYes&NoButtonsDeleteResponseATCRequest' As groupContainer.horizontalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =80
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingTop: =20
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =3

                btnNoDeleteResponseATCRequest As button:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnSelect: |-
                        =UpdateContext({lvDeleteResponse:false});
                    PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                    PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="No"
                    ZIndex: =1

                btnYesDeleteResponseATCRequest As button:
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(199, 127, 127, 0.84)
                    Fill: =AppColors.Orange
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =AppColors.Orange
                    OnSelect: |-
                        =UpdateContext({lvDeleteResponse:false});
                        Remove(collResponse, lvResponse);
                        
                        
                        
                        
                        //ClearCollect(collResponse, 'Resident Responses');
                        //Notify("You have successfully remove a Pacaket", NotificationType.Success)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =ColorFade(AppColors.Orange,50%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="Yes"
                    ZIndex: =2

        cntCancelATCRequest As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =250
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Visible: =lvDiscardData=true
            Width: =430
            ZIndex: =7

            lblcntCancelATCRequest As label:
                Align: =Align.Center
                BorderColor: =RGBA(32, 54, 71, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =AppColors.LightOrange
                Font: =AppFonts.FontStyle
                FontWeight: =FontWeight.Semibold
                Size: =AppFonts.titleFontSize
                Text: ="Cancel "
                Width: =Parent.Width
                ZIndex: =1

            cntCancelMessageATCRequest As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderStyle: =BorderStyle.None
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =
                RadiusBottomRight: =
                RadiusTopLeft: =
                RadiusTopRight: =
                Width: =Parent.Width
                ZIndex: =2

                lblCancelMessageATCRequest As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =AppFonts.FontStyle
                    Height: =Parent.Height
                    PaddingLeft: =20
                    PaddingRight: =20
                    Size: =AppFonts.fontSize
                    Text: ="You are about to cancel without saving, are you sure you want to continue?"
                    Width: =Parent.Width
                    ZIndex: =1

            "'cntYes&NoCancelPopupATCRequest' As groupContainer.verticalAutoLayoutContainer":
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderStyle: =BorderStyle.None
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =60
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingTop: =2
                RadiusBottomLeft: =
                RadiusBottomRight: =
                RadiusTopLeft: =
                RadiusTopRight: =
                Width: =Parent.Width
                ZIndex: =3

                btnNoCancelPopupATCRequest As button:
                    BorderColor: =AppColors.Grey
                    BorderThickness: =1
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    OnSelect: |-
                        =UpdateContext({lvDiscardData: false})
                    PressedColor: =ColorFade(RGBA(0,0,0,1),50%)
                    PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =0
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="No"
                    Width: =90
                    ZIndex: =1

                btnYesCancelPopupATCRequest As button:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =AppColors.Orange
                    FocusedBorderThickness: =1
                    Font: =AppFonts.FontStyle
                    FontWeight: =FontWeight.Semibold
                    Height: =AppFonts.FieldHeight
                    HoverBorderColor: =AppColors.Orange
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =AppColors.Orange
                    OnSelect: |-
                        =Navigate(Home);
                        
                        UpdateContext({lvDiscardData: false})
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =ColorFade(RGBA(255,255,255,1),-5%)
                    RadiusBottomLeft: =
                    RadiusBottomRight: =
                    RadiusTopLeft: =0
                    RadiusTopRight: =
                    Size: =AppFonts.fontSize
                    Text: ="Yes"
                    Width: =90
                    ZIndex: =2

    Button5_2 As button:
        DisabledBorderColor: =RGBA(166, 166, 166, 1)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        DisplayMode: |
            =/*If(CountRows(Filter(collBookDetails, IsBlank(DatePicker1_9.SelectedDate) || IsBlank(ComboBox1_3.Selected.Name) || IsBlank(ComboBox1_4.Selected.'Book Title') || IsBlank(DatePicker1_11.SelectedDate) || IsBlank(DatePicker1_10.SelectedDate) || IsBlank(Radio1_2.Selected.Value) || IsBlank(DatePicker1_3.SelectedDate) || IsBlank(Dropdown1_3.Selected.Value) || IsBlank(Dropdown2_3.Selected.Value) || IsBlank(Radio1_3.Selected.Value) || IsBlank(DatePicker1_7.SelectedDate) || IsBlank(Dropdown1_7.Selected.Value) || IsBlank(Dropdown2_7.Selected.Value) ))=0, DisplayMode.Edit, DisplayMode.Disabled)
            
            /*With({Rows: CountRows(Gallery2.AllItems),
                        Details: CountRows(
                            Filter(
                                collBookDetails, !IsBlank(DatePicker1_9.SelectedDate)))}, If(Rows=Details,DisplayMode.Edit, DisplayMode.Disabled))*/
            //If(CountRows(Filter(Gallery2.AllItems , IsBlank(ComboBox1_6.Selected.'Book Title') || IsBlank(ComboBox1_5.Selected.Name)))<>0, DisplayMode.Disabled) 
            
            //If(CountRows(Filter(Gallery2.AllItems, IsBlank(ComboBox1_3.Selected.'Facility Name') || IsBlank(ComboBox1_4.Selected.'Book Title')))=0,DisplayMode.Edit,DisplayMode.Disabled)
            
            
            DisplayMode.Edit
        Fill: =RGBA(100, 118, 132, 1)
        FontWeight: =FontWeight.Semibold
        HoverColor: =RGBA(255, 255, 255, 1)
        HoverFill: =ColorFade(RGBA(100, 118, 132, 1), -20%)
        OnSelect: |
            =//Book Request
            If(
                CountRows(
                    Filter(
                        galBookDetailsATCRequest.AllItems,
                        !IsBlank(cmbFacilityATCRequest.Selected.'Facility Name') || !IsBlank(cmbBookATCREquest.Selected.'Book Title') || !IsBlank(dateDueDateATCRequest.SelectedDate) || !IsBlank(dateCheckOutATCRequest.SelectedDate) || !IsBlank(rdoBookDeliveryTypeATCRequest.Selected.Value) || !IsBlank(dateDeliveryDateATCRequest.SelectedDate) || !IsBlank(ddDeliveryDateFromATCRequest.Selected.Value) || !IsBlank(ddDeliveryDatetoATCRequest.Selected.Value) || !IsBlank(rdoBookReturnTypeATCRequest.Selected.Value) || !IsBlank(dateddReturnDateATCREquest.SelectedDate) || !IsBlank(ddReturnDateFromATCREquest.Selected.Value) || !IsBlank(ddReturnDateToATCREquest.Selected.Value)
                    )
                ) <> 0,
                UpdateContext({lvMandatoryBookDetails: true})
            );
            //Patch Book Request
            If(
                (CountRows(
                    Filter(
                        galBookDetailsATCRequest.AllItems As obj,
                        If(
                            LookUp(
                                collBookInventory,
                                'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                            ).'Available Copies' = 1,
                            IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                            IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                        )
                    )
                ) = 0),
                Set(
                    lvFlag1,
                    true
                );
                
            );
            //Indigent Supply
            If(
                !IsBlank(rdoOptionsIsPersonIndigentATCRequest.Selected.Value) || !IsBlank(txtDescriptionATCRequest.Text),
                UpdateContext({lvMandatoryIndigentSuppy: true})
            );
            // Patch Indigent Supply
            If(
                lvMandatoryIndigentSuppy = true && If(
                    rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                    !IsBlank(txtDescriptionATCRequest.Text),
                    If(
                        rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                        !IsEmpty(AttachmentATCRequest.Attachments)
                    )
                ),
                Set(
                    lvFlag2,
                    true
                )
            );
            //Call Out Request
            If(
                !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) || !IsBlank(ddServiceDateFromCallOutATCRequest.Selected.Value) || !IsBlank(ddServiceDateToCallOutATCRequest.Selected.Value) || lvCountCallOutServices >= 1,
                UpdateContext({lvMandatoryCallOutRequest: true})
            );
            //Patch call out
            If(
                lvMandatoryCallOutRequest = true && !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
                Set(
                    lvFlag3,
                    true
                )
            );
            //Visit Request
            If(
                !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) || !IsBlank(rdoIncludeATCResponseVisitATCRequest.Selected.Value) || lvCountVisitServices >= 1,
                UpdateContext({lvMandatoryVistrequest: true})
            );
            If(
                lvMandatoryVistrequest = true && !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
                Set(
                    lvFlag4,
                    true
                )
            );
            //Legal Mail
            If(
                !IsBlank(txtTypeOfMailATCRequest.Text) || !IsBlank(txtCaseNumberATCRequest.Text) || !IsBlank(dateReceivedOnATCRequest.SelectedDate) || !IsBlank(dateMailSentOnATCRequest.SelectedDate) || If(
                    cbxRegisteredAddressATCRequest.Value = false,
                    !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                    !IsBlank(txtRegisteredAddressATCRequest.Text)
                ),
                UpdateContext({lvMandatoryLegalMail: true})
            );
            //Patch Legal Mail
            If(
                lvMandatoryLegalMail = true && !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                    cbxRegisteredAddressATCRequest.Value = false,
                    !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                    If(
                        cbxRegisteredAddressATCRequest.Value = true,
                        !IsBlank(txtRegisteredAddressATCRequest.Text)
                    )
                ),
                Set(
                    lvFlag5,
                    true
                )
            );
            //E-file Request
            If(
                !IsBlank(txtTypeOfFilingATCRequest.Text) || !IsBlank(txtCaseNumberEFileATCRequest.Text) || !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) || !IsBlank(dateEFiledOnATCRequest.SelectedDate) || If(
                    cbxCourtATCRequest.Value = false,
                    !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                    !IsBlank(txtCourtATCRequest.Text)
                ) || !IsBlank(txtEFileDescriptionATCRequest.Text),
                UpdateContext({lvMandatoryEFileRequest: true})
            );
            //Patch E-file 
            If(
                lvMandatoryEFileRequest = true && !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                    cbxCourtATCRequest.Value = false,
                    !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                    !IsBlank(txtCourtATCRequest.Text)
                ),
                Set(
                    lvFlag6,
                    true
                )
            );
            //Other request
            If(
                !IsBlank(txtDescriptionOtherATCRequest.Text) || !IsBlank(dateDenailDateOtherATCRequest.SelectedDate) || !IsBlank(dateRequestDateOtherATCRequest.SelectedDate),
                UpdateContext({lvMandatoryOtherTab: true})
            );
            //Patch Other 
            If(
                !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateDenailDateOtherATCRequest.SelectedDate),
                Set(
                    lvFlag7,
                    true
                )
            );
            //Main
            If(
                (lvCountPackets >= 1 || lvFlag1 = true || lvFlag2 = true || lvFlag3 = true || lvFlag4 = true || lvFlag5 = true || lvFlag6 = true || lvFlag7 = true) && If(
                    lvFlag1 = true,
                    true,
                    If(
                        lvMandatoryBookDetails = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag2 = true,
                    true,
                    If(
                        lvMandatoryIndigentSuppy = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag3 = true,
                    true,
                    If(
                        lvMandatoryCallOutRequest = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag4 = true,
                    true,
                    If(
                        lvMandatoryVistrequest = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag5 = true,
                    true,
                    If(
                        lvMandatoryLegalMail = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag6 = true,
                    true,
                    If(
                        lvMandatoryEFileRequest = false,
                        true,
                        false
                    )
                ) && If(
                    lvFlag7 = true,
                    true,
                    If(
                        lvMandatoryOtherTab = false,
                        true,
                        false
                    )
                ) && (!IsBlank('cmbMainScreenIDOC#ATCRequest'.Selected.'IDOC No') && !IsBlank(cbxFacilityATCRequest.Selected.'Facility Name') && !IsBlank(dateSubmitDateATCRequest.SelectedDate) && !IsBlank(dateDateReceivedbyParalegalATCRequest.SelectedDate) && dateDateReceivedbyParalegalATCRequest.SelectedDate >= dateSubmitDateATCRequest.SelectedDate),
                Set(
                    gvNewRecord,
                    Patch(
                        'ATC Requests',
                        If(
                            gvNewATCRequest = true,
                            Defaults('ATC Requests'),
                            LookUp(
                                'ATC Requests',
                                gvEditATCRequest.'ATC Request' = 'ATC Request'
                            )
                        ),
                        {
                            'Roster Id': 'cmbMainScreenIDOC#ATCRequest'.Selected,
                            'Facility Id': cbxFacilityATCRequest.Selected
                             /*LookUp(
                                collFacility,
                                'Facility Name' = cbxFacilityATCRequest.Selected.'Facility Name'
                            )*/,
                            'Unit Number': txtMainScreenUnitNumberATCRequest.Text,
                            'Submit Date': dateSubmitDateATCRequest.SelectedDate,
                            'Is Submitted Date Incorrect': cbxSubmitDateATCRequest.Value,
                            'Date Received by Paralegal': dateDateReceivedbyParalegalATCRequest.SelectedDate,
                            'Response Date': dateResposnseDateATCRequest.SelectedDate,
                            'Is resident used concern form': cbxConcerFormUsedATCRequest.Value,
                            'ATC form not submitted': cbxATCFormNotSubmittedATCRequest.Value,
                            'Internal Notes': rteATCMessageATCRequest.HtmlText,
                            'Paralegal ID':cbxRequestCompletedByATCRequest.Selected,
                            Activity: User().Email & " submitted the ATC request on " & Now(),
                            'Form Status': If(
                                lvStatusResponded = true,
                                "Responded",
                                "Inprogress"
                            )
                        }
                    )
                );
                
            //Attachment
            ForAll(
                    ATCAttachmentATCRequest.Attachments,
                    Patch(
                        'ATC Attachments',
                        Defaults('ATC Attachments'),
                        {
                            'ATC Request ID': gvNewRecord,
                            Content: {
                                FileName: ThisRecord.Name,
                                Value: ThisRecord.Value
                            }
                        }
                    )
                );
                
            //Other Request
            If(
                    !IsBlank(txtDescriptionOtherATCRequest.Text) && !IsBlank(dateDenailDateOtherATCRequest.SelectedDate),
                    Patch(
                        'Other Requests',
                        If(
                            gvNewATCRequest = true || IsBlank(
                                LookUp(
                                    'Other Requests',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                )
                            ),
                            Defaults('Other Requests'),
                            LookUp(
                                'Other Requests',
                                gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                            )
                        ),
                        {
                            'Request Date': dateRequestDateOtherATCRequest.SelectedDate,
                            Description: txtDescriptionOtherATCRequest.Text,
                            'Denial Date': dateDenailDateOtherATCRequest.SelectedDate,
                            'ATC Request ID': gvNewRecord
                        }
                    )
                );
                
            //Book Request
            If(
                    (CountRows(
                        Filter(
                            galBookDetailsATCRequest.AllItems As obj,
                            If(
                                LookUp(
                                    collBookInventory,
                                    'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                ).'Available Copies' = 1,
                                IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.dateDueDateATCRequest.SelectedDate) || IsBlank(obj.dateCheckOutATCRequest.SelectedDate) || IsBlank(obj.rdoBookDeliveryTypeATCRequest.Selected.Value) || IsBlank(obj.dateDeliveryDateATCRequest.SelectedDate) || IsBlank(obj.rdoBookReturnTypeATCRequest.Selected.Value) || IsBlank(obj.dateddReturnDateATCREquest.SelectedDate),
                                IsBlank(obj.cmbFacilityATCRequest.Selected.'Facility Name') || IsBlank(obj.cmbBookATCREquest.Selected.'Book Title') || IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value)
                            )
                        )
                    ) = 0),
                    Remove(
                        'Book Requests',
                        Filter(
                            'Book Requests',
                            'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                        )
                    );
                    ForAll(
                        galBookDetailsATCRequest.AllItems As obj,
                        If(
                            LookUp(
                                collBookInventory,
                                'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                            ).'Available Copies' = 1,
                            Patch(
                                'Book Requests',
                                Defaults('Book Requests'),
                                {
                                    'Facility ID': LookUp(
                                        collFacility,
                                        'Facility Name' = obj.cmbFacilityATCRequest.Selected.'Facility Name'
                                    ),
                                    'Book Id': LookUp(
                                        collBookInventory,
                                        'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                    ),
                                    'Book Checkout Date': obj.dateCheckOutATCRequest.SelectedDate,
                                    'Book Due Date': obj.dateDueDateATCRequest.SelectedDate,
                                    'Book Deliver Type': If(
                                        obj.rdoBookDeliveryTypeATCRequest.Selected.Value = "Visit Request",
                                        'Book Deliver/Return Type'.'Visit Request',
                                        'Book Deliver/Return Type'.'Call Out Request'
                                    ),
                                    'Delivery Date From': DateTimeValue(obj.dateDeliveryDateATCRequest.SelectedDate & " " & obj.ddDeliveryDateFromATCRequest.Selected.Value),
                                    'Delivery Date To': DateTimeValue(obj.dateDeliveryDateATCRequest.SelectedDate & " " & obj.ddDeliveryDatetoATCRequest.Selected.Value),
                                    'Book Return Type': If(
                                        obj.rdoBookReturnTypeATCRequest.Selected.Value = "Visit Request",
                                        'Book Deliver/Return Type'.'Visit Request',
                                        'Book Deliver/Return Type'.'Call Out Request'
                                    ),
                                    'Return Date From': DateTimeValue(obj.dateddReturnDateATCREquest.SelectedDate & " " & obj.ddReturnDateFromATCREquest.Selected.Value),
                                    'Return Date To': DateTimeValue(obj.dateddReturnDateATCREquest.SelectedDate & " " & obj.ddReturnDateToATCREquest.Selected.Value),
                                    'ATC Request Id': gvNewRecord,
                                    'Book Status': If(
                                        IsBlank(obj.rdoAddtoWaitlistATCRequest.Selected.Value),
                                        'Book Status (Book Requests)'.'Checked Out',
                                        If(
                                            obj.rdoAddtoWaitlistATCRequest.Selected.Value = "Yes",
                                            'Book Status (Book Requests)'.Waitlisted
                                        )
                                    )
                                }
                            ),
                            Patch(
                                'Book Requests',
                                Defaults('Book Requests'),
                                {
                                    'Facility ID': LookUp(
                                        collFacility,
                                        'Facility Name' = obj.cmbFacilityATCRequest.Selected.'Facility Name'
                                    ),
                                    'Book Id': LookUp(
                                        collBookInventory,
                                        'Book Title' = obj.cmbBookATCREquest.Selected.'Book Title'
                                    ),
                                    'Book Status': If(
                                        obj.rdoAddtoWaitlistATCRequest.Selected.Value = "Yes",
                                        'Book Status (Book Requests)'.Waitlisted
                                    ),
                                    'ATC Request Id': gvNewRecord
                                }
                            )
                        )
                    )
                );
                
            //packet Request
            
            Remove(
                    'Packet Request Details',
                    Filter(
                        'Packet Request Details',
                        'ATC Request Id'.'ATC Request' = gvEditATCRequest.'ATC Request'
                    )
                );
                ForAll(
                    Filter(
                        galPacketRequestATCRequest.AllItems,
                        cbxPacketsATCRequest.Value = true
                    ),
                    Patch(
                        'Packet Request Details', Defaults('Packet Request Details'),
                        {
                            'Packet ID': ThisRecord,
                            Quantity: Value(lblQuantityATCRequest.Text),
                            'ATC Request Id': gvNewRecord
                        }
                    )
                ); 
            
            
            
            
            //Indigent Supply
            If(
                    lvMandatoryIndigentSuppy = true && If(
                        rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                        !IsBlank(txtDescriptionATCRequest.Text),
                        If(
                            rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "No",
                            !IsEmpty(AttachmentATCRequest.Attachments)
                        )
                    ),
                    Patch(
                        'Indigent Supplies',
                        If(
                            gvNewATCRequest = true || IsBlank(
                                LookUp(
                                    'Indigent Supplies',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                )
                            ),
                            Defaults('Indigent Supplies'),
                            LookUp(
                                'Indigent Supplies',
                                gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                            )
                        ),
                        {
                            'Is this Person Indigent?': If(
                                rdoOptionsIsPersonIndigentATCRequest.Selected.Value = "Yes",
                                true,
                                false
                            ),
                            Description: txtDescriptionATCRequest.Text,
                            Attachment: {
                                FileName: First(AttachmentATCRequest.Attachments).Name,
                                Value: First(AttachmentATCRequest.Attachments).Value
                            },
                            'ATC Request Id': gvNewRecord
                        }
                    )
                );
                
            //Patch call out
            If(
                    lvMandatoryCallOutRequest = true && !IsBlank(dateServiceDateCallOutATCRequest.SelectedDate) && lvCountCallOutServices >= 1,
                    Set(
                        gvCallOuts,
                        Patch(
                            'Call Out Requests',
                            If(
                                gvNewATCRequest = true || IsBlank(
                                    LookUp(
                                        'Call Out Requests',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                    )
                                ),
                                Defaults('Call Out Requests'),
                                LookUp(
                                    'Call Out Requests',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                )
                            ),
                            {
                                'Service From Date': DateTimeValue(dateServiceDateCallOutATCRequest.SelectedDate & " " & ddServiceDateFromCallOutATCRequest.Selected.Value),
                                'Service To Date': DateTimeValue(dateServiceDateCallOutATCRequest.SelectedDate & " " & ddServiceDateToCallOutATCRequest.Selected.Value),
                                'ATC Request Id': gvNewRecord
                            }
                        )
                    );
                    Remove(
                        'Call Out/Visit Services',
                        Filter(
                            'Call Out/Visit Services',
                            'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' && 'Type of Service' = "Call Out Request"
                        )
                    );
                    ForAll(
                        Filter(
                            galServiesCallOutATCRequest.AllItems,
                            cbxServiesCallOutATCRequest.Value = true
                        ),
                        Patch(
                            'Call Out/Visit Services',
                            Defaults('Call Out/Visit Services'),
                            {
                                'Type of Service': "Call Out Request",
                                'Call Out Service ID': ThisRecord,
                                'Call Out Request ID': gvCallOuts,
                                'ATC Request ID': gvNewRecord
                            }
                        )
                    )
                );
                
            //Visit Request
            If(
                    lvMandatoryVistrequest = true && !IsBlank(dateServiceDateVisitATCRequest.SelectedDate) && lvCountVisitServices >= 1,
                    Set(
                        gvVisits,
                        Patch(
                            'Visit Requests',
                            If(
                                gvNewATCRequest = true || IsBlank(
                                    LookUp(
                                        'Visit Requests',
                                        gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                    )
                                ),
                                Defaults('Visit Requests'),
                                LookUp(
                                    'Visit Requests',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                )
                            ),
                            {
                                'Visit Date From': DateTimeValue(dateServiceDateVisitATCRequest.SelectedDate & " " & ddServiceDateFromATCRequest.Selected.Value),
                                'Visit Date To': DateTimeValue(dateServiceDateVisitATCRequest.SelectedDate & " " & ddServiceDateToATCRequest.Selected.Value),
                                'include an ATC response with this request?': If(
                                    rdoIncludeATCResponseVisitATCRequest.Selected.Value = "Yes",
                                    true,
                                    false
                                ),
                                'ATC Request Id': gvNewRecord
                            }
                        )
                    );
                    Remove(
                        'Call Out/Visit Services',
                        Filter(
                            'Call Out/Visit Services',
                            'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' && 'Type of Service' = "Visit Request"
                        )
                    );
                    ForAll(
                        Filter(
                            galVisitServiceNamesATCRequest.AllItems,
                            cbxVisitServiceNamesATCRequest.Value = true
                        ),
                        Patch(
                            'Call Out/Visit Services',
                            Defaults('Call Out/Visit Services'),
                            {
                                'Type of Service': "Visit Request",
                                'Visit Request ID': gvVisits,
                                'Visit Service ID': ThisRecord,
                                'ATC Request ID': gvNewRecord
                            }
                        )
                    )
                );
                
            //Patch Legal Mail
            If(
                    lvMandatoryLegalMail = true && !IsBlank(txtTypeOfMailATCRequest.Text) && !IsBlank(txtCaseNumberATCRequest.Text) && !IsBlank(dateReceivedOnATCRequest.SelectedDate) && !IsBlank(dateMailSentOnATCRequest.SelectedDate) && dateMailSentOnATCRequest.SelectedDate >= dateReceivedOnATCRequest.SelectedDate && If(
                        cbxRegisteredAddressATCRequest.Value = false,
                        !IsBlank(cmbRegisteredAddressATCRequest.Selected.'Combined Address'),
                        !IsBlank(txtRegisteredAddressATCRequest.Text)
                    ),
                    Patch(
                        'Legal Mails',
                        If(
                            gvNewATCRequest = true || IsBlank(
                                LookUp(
                                    'Legal Mails',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                                )
                            ),
                            Defaults('Legal Mails'),
                            LookUp(
                                'Legal Mails',
                                gvEditATCRequest.'ATC Request' = 'ATC Request ID'.'ATC Request'
                            )
                        ),
                        {
                            'Type Of Mail': txtTypeOfMailATCRequest.Text,
                            'Case Number': txtCaseNumberATCRequest.Text,
                            'Mail Received On Date': dateReceivedOnATCRequest.SelectedDate,
                            'Mail Sent on Date': dateMailSentOnATCRequest.SelectedDate,
                            'Temporary Address': txtRegisteredAddressATCRequest.Text,
                            'Address Details ID': cmbRegisteredAddressATCRequest.Selected,
                            //LookUp('Address Details', 'Address 1' = cbxFacilityATCRequest_2.Selected.'Combined Address')
                            'ATC Request ID': gvNewRecord
                        }
                    )
                );
                
            //Patch E-file 
            If(
                    lvMandatoryEFileRequest = true && !IsBlank(txtTypeOfFilingATCRequest.Text) && !IsBlank(txtCaseNumberEFileATCRequest.Text) && !IsBlank(dateFilingReceivedOnATCRequest.SelectedDate) && !IsBlank(dateEFiledOnATCRequest.SelectedDate) && dateEFiledOnATCRequest.SelectedDate >= dateFilingReceivedOnATCRequest.SelectedDate && If(
                        cbxCourtATCRequest.Value = false,
                        !IsBlank(cmbCourtATCRequest.Selected.'Court Name'),
                        !IsBlank(txtCourtATCRequest.Text)
                    ),
                    Patch(
                        'E-File Requests',
                        If(
                            gvNewATCRequest = true || IsBlank(
                                LookUp(
                                    'E-File Requests',
                                    gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                                )
                            ),
                            Defaults('E-File Requests'),
                            LookUp(
                                'E-File Requests',
                                gvEditATCRequest.'ATC Request' = 'ATC Request Id'.'ATC Request'
                            )
                        ),
                        {
                            'Type Of Filing': txtTypeOfFilingATCRequest.Text,
                            'Case Number': txtCaseNumberEFileATCRequest.Text,
                            'File Received On Date': dateFilingReceivedOnATCRequest.SelectedDate,
                            'E Filed On': dateEFiledOnATCRequest.SelectedDate,
                            'Temporary Court Name': txtCourtATCRequest.Text,
                            'Court Id': LookUp(
                                Courts,
                                'Court Name' = cmbCourtATCRequest.Selected.'Court Name'
                            ),
                            Description: txtEFileDescriptionATCRequest.Text,
                            'ATC Request Id': gvNewRecord
                        }
                    )
                );
                
            //Resident Response
            
            Remove(
                        'Resident Responses',
                        Filter(
                            'Resident Responses',
                            'ATC Request ID'.'ATC Request' = gvEditATCRequest.'ATC Request' 
                        )
                    );
            
            ForAll(
                    galMessageATCRequest.AllItems As obj,
                    Patch(
                        'Resident Responses',
                        Defaults('Resident Responses'),
                        {
                            'ATC Request ID': gvNewRecord,
                            'Response Message': obj.lblResponseMessageATCRequest.Text,
                            'Response Date Time': DateTimeValue(obj.'lblDate&TimeMessageATCRequest'.Text)
                        }
                    )
                );
                ClearCollect(
                    collATCRequest,
                    'ATC Requests'
                );
                Notify(
                    "Request Submitted Successfully",
                    NotificationType.Success
                ),
                UpdateContext({lvMandatoryField: true});
                If(
                    (lvCountPackets >= 1 || lvFlag1 = true || lvFlag2 = true || lvFlag3 = true || lvFlag4 = true || lvFlag5 = true || lvFlag6 = true || !IsBlank(txtDescriptionOtherATCRequest.Text)),
                    Notify(
                        "Please fill the mandatory fields",
                        NotificationType.Error
                    ),
                    Notify(
                        "Atleast one request should be added",
                        NotificationType.Error
                    )
                )
            );
        Size: =15
        Text: ="Final"
        Visible: =false
        X: =885
        ZIndex: =7

